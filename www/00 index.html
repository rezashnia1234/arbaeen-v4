<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, height=device-height, viewport-fit=cover">
	<meta http-equiv="Content-Security-Policy" content="default-src * data: gap: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">	
	<title>بسم الله الرحمن الرحیم</title>

	<!-- Required libs -->
	<script src="js/jquery-3.3.1.min.js"></script>
	<!-- <script src="js/console.log.js"></script> -->
	<script src="cordova.js"></script>
	<script src="js/persian_number_to_english.js"></script>
	<script src="js/notification.js"></script>
	<script src="js/jquery.md5.js"></script>
	<script src="js/lazyload.min.js"></script>
	<script src="onsenui/js/onsenui.js"></script>
	<script src="js/lang.ar.js"></script>
	<script src="js/lang.fa.js"></script>
	<script src="js/lang.en.js"></script>
	<link rel="stylesheet" href="onsenui/css/onsenui.min.css">
	<link rel="stylesheet" href="onsenui/css/onsen-css-components.min.css">
	<link rel="stylesheet" href="css/fontiran.css">
	<link rel="stylesheet" href="css/arabic_font.css">
	<link rel="stylesheet" href="css/home.css">
	
	<style>
		
	</style>
	<script>
		winW = 0;
		winH = 0;
		news_id = "";
		current_page = "";
		version = "1.00";
		app = {};
		Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t="";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=Base64._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},_utf8_decode:function(e){var t="";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}}
		FileTransfer_OBJ = "";
		found_list = {};
		
		setTimeout(function(){
			if(!window.cordova)
			{
				Connection = {};
				Connection.NONE = "0000";
				setTimeout(function(){
					if(window.localStorage.getItem("udid")==null)
						window.localStorage.setItem("udid","test");
				}, 1500);
				//document.querySelector('#myNavigator').pushPage('zaer_service_I_Lost_Something.html', {animation: "none"});
			}
			else
				FileTransfer_OBJ = new FileTransfer();
		}, 500);
		
		if(window.localStorage.getItem('language') == null)
		{
			text_direction = "english_text";
			lang = lang_en;
		}
		else
		{
			text_direction = window.localStorage.getItem('text_direction');
			lang = window[window.localStorage.getItem('language')];
		}
		lost_category_list = [
			multilang.get("Passport_and_identification_documents"),
			multilang.get("Clothing"),
			multilang.get("Money"),
			multilang.get("Watch"),
			multilang.get("Ring"),
			multilang.get("Jewelry"),
			multilang.get("Others"),
			multilang.get("Cancel"),
		];
		city_name_list = [
			multilang.get("City_Name"),
			multilang.get("Karbala"),
			multilang.get("Najaf"),
			multilang.get("Kazemein"),
			multilang.get("From_Najaf_to_Karbala"),
			multilang.get("From_Kazemein_to_Karbala"),
		];

		function getParameterByName(name) {
			name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
			var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
				results = regex.exec(location.search);
			return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
		}
		function set_body_language(){
			body = $("body");
			body.removeClass("english_text");
			body.removeClass("arabic_text");
			body.removeClass("persian_text");
			body.addClass(text_direction);
		}
		function isHighDensity(){
			return ((window.matchMedia && (window.matchMedia('only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)').matches || window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)').matches)) || (window.devicePixelRatio && window.devicePixelRatio > 1.3));
		}
		function isRetina(){
			return ((window.matchMedia && (window.matchMedia('only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)').matches || window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)').matches)) || (window.devicePixelRatio && window.devicePixelRatio >= 2)) && /(iPad|iPhone|iPod)/g.test(navigator.userAgent);
		}
		function check_retina() {
			if(isHighDensity() || isRetina())
			{
				$('.retina').each( function(i) {
					$(this).removeClass("retina");
					if($(this).attr("src"))
					{
						var temp_src_image = $(this).attr("src");
						if(temp_src_image.indexOf('-xx.png') === -1 && temp_src_image.indexOf('-xx.png') === -1)
							$(this).attr('src', temp_src_image.replace('.png' , '-xx.png').replace('.jpg' , '-xx.jpg') );
					}
					else
					{
						var temp_baclground_image = $(this).css('background-image');
						if(temp_baclground_image!="" && temp_baclground_image!="none" && temp_baclground_image.indexOf('-xx.png') === -1 && temp_baclground_image.indexOf('-xx.png') === -1)
							$(this).css('background-image', temp_baclground_image.replace('.png' , '-xx.png').replace('.jpg' , '-xx.jpg'));
					}
				});
			}
		}
		function center_the_box_vertical(delta){
			if(delta=="" || delta==null)
				delta = 50;
			setTimeout(function(){
				$('.center_the_box_vertical:visible').each( function(i) {
					tempObj = $(this);
					tempH = tempObj.height();
					//console.log("tempH:" + tempH);
					//console.log("winH:" + winH);
					//console.log("delta:" + delta);
					tempObj.css("margin-top",((winH-tempH-delta)/2));
				});
			}, 300);
		}
		function init() {
//alert("init()");
			console.log('SMGROUP ::::::::::::::::::::::::::::::::::::	start init()');
			document.addEventListener("deviceready", onDeviceReady, false);
			set_body_language();
//alert("5");
			if(window.localStorage.getItem('winH') != null)
				winH = window.localStorage.getItem("winH");
				
			setTimeout(function(){
				winW_temp = jQuery(window).width();
				winH_temp = jQuery(window).height();
				if(winH_temp != "" || winH_temp!=0)
				{
					winW = winW_temp;
					winH = winH_temp;
					window.localStorage.setItem("winH", winH);
				}
			}, 200);
			setTimeout(function(){
				winW_temp = jQuery(window).width();
				winH_temp = jQuery(window).height();
				if(winH_temp != "" || winH_temp!=0)
				{
					winW = winW_temp;
					winH = winH_temp;
					window.localStorage.setItem("winH", winH);
				}
			}, 300);
			setTimeout(function(){
				winW_temp = jQuery(window).width();
				winH_temp = jQuery(window).height();
				if(winH_temp != "" || winH_temp!=0)
				{
					winW = winW_temp;
					winH = winH_temp;
					window.localStorage.setItem("winH", winH);
				}
			}, 400);

			
		}
		function onDeviceReady() {
			console.log('SMGROUP ::::::::::::::::::::::::::::::::::::	start onDeviceReady()');
//alert("onDeviceReady()");
			if(window.localStorage.getItem('udid') == null)
			{
				alert("window.localStorage.getItem('udid')");
				window.plugins.uniqueDeviceID.get(uniqueDeviceIDsuccess_index, alertDismissed);
			}
			else
				alert("window.localStorage.getItem('udid') : " + window.localStorage.getItem('udid'));
//alert("7");
			setTimeout(function(){
				register_notification_home();
			}, 3000);
//alert("register_notification_home_after()");
//alert("8");
		
			//if ( device.platform == 'Android' ){//Android,iOS,win7=WinCE,win8=Win32NT
			//	document.addEventListener("backbutton", go_back_index, false);
			//}
			//var networkState = navigator.connection.type;
			//if (networkState == Connection.NONE) {
			//	need_internet();
			//}
		}
		function go_back_index() {
			//StartScan();
			navigator.notification.confirm(
				multilang.get('do_you_want_to_exit_the_application'),	// message
				onExitConfirm,											// callback
				multilang.get('notice'),								// title
				[multilang.get('yes'),multilang.get('no')]				// buttonName
			);
		}
		function onExitConfirm(buttonIndex) {
			if(buttonIndex==1)
				navigator.app.exitApp();
		}
		function need_internet() {
			$("#need_wifi").css("display","table");
			navigator.notification.alert(
				multilang.get('you_must_connect_to_the_internet'),  // message
				alertDismissed,		 // callback
				multilang.get('warning'),			// title
				multilang.get('ok')		// buttonName
			);
		}
		function alertDismissed(data) {
			alert(JSON.stringify(data));
		}
		function goto_page(page_name) {
			document.querySelector('#myNavigator').pushPage(page_name, {animation: "slid",animationOptions:{delay: 0.4} });
		}
		function goto_page_zaer_service() {
			document.querySelector('#myNavigator').pushPage("zaer_services.html", {animation: "slid",animationOptions:{delay: 0.4} });
		}
		function goto_page_select_user_type() {
			document.querySelector('#myNavigator').pushPage("select_user_type.html", {animation: "slid",animationOptions:{delay: 0.4} });
		}
		function uniqueDeviceIDsuccess_index(udid){
			alert(udid);
			window.localStorage.setItem('udid',udid);
		}
		function fromTemplate(text) {
			var dialog = document.getElementById('dialog-alert');
			if (dialog) {
				$('#dialog-text-dialog-alert').html(text);
				need_translate();
				dialog.show();
			}
			else {
				ons.createDialog('dialog.html')
					.then(function (dialog) {
					$('#dialog-text-dialog-alert').html(text);
					need_translate();
					dialog.show();
				});
			}
		};
		function show_card(text) {
			text = found_list[text];
			var card_template = "";
			card_template += '<img src="' + (text.images==""? "images/no-image2.png" : server_url_image + '400x200-' + text.images + '?parameters=@width=600@height=300@cropratio=true@quality=85@image=/uploads_found/' + text.images) + '" alt="" style="width: 100%;border: 1px solid #c2c2c2;border-radius: 5px;box-sizing: border-box;">';
			card_template += '<div class="title">' + text.Name_of_the_device + '</div>';
			card_template += '<div class="content">';
			
			card_template += '<ons-list>';
			card_template += '<ons-list-header>' + multilang.get("Finding_Location") + '</ons-list-header>';
			if(text.City_Name!="")
			card_template += '<ons-list-item>' + multilang.get("City_Name") + " : " + city_name_list[text.City_Name] + '</ons-list-item>';
			if(text.Pillar_Number!="")
			card_template += '<ons-list-item>' + multilang.get("Pillar_Number") + " : " + text.Pillar_Number + '</ons-list-item>';
			if(text.Tent_Name!="")
			card_template += '<ons-list-item>' + multilang.get("Tent_Name") + " : " + text.Tent_Name + '</ons-list-item>';
			card_template += '</ons-list>';
			
			card_template += '<ons-list>';
			card_template += '<ons-list-header>' + multilang.get("Contacts_Info") + '</ons-list-header>';
			if(text.Phone_number!="")
			card_template += '<ons-list-item>' + multilang.get("Phone_number") + " : " + text.Phone_number + '</ons-list-item>';
			if(text.Telegram_ID!="")
			card_template += '<ons-list-item>' + multilang.get("Telegram_ID") + " : " + text.Telegram_ID + '</ons-list-item>';
			if(text.WhatsApp_ID!="")
			card_template += '<ons-list-item>' + multilang.get("WhatsApp_ID") + " : " + text.WhatsApp_ID + '</ons-list-item>';
			if(text.Line_ID!="")
			card_template += '<ons-list-item>' + multilang.get("Line_ID") + " : " + text.Line_ID + '</ons-list-item>';
			if(text.Imo_ID!="")
			card_template += '<ons-list-item>' + multilang.get("Imo_ID") + " : " + text.Imo_ID + '</ons-list-item>';
			card_template += '</ons-list>';
			
			if(text.description!="")
			{
			card_template += '<div>';
			card_template += '<ons-list-header>' + multilang.get("Description") + '</ons-list-header>';
			card_template += '<ons-list-item>' + text.description + '</ons-list-item>';
			card_template += '</div>';
			}
			
			card_template += '</div>';
			
			var dialog = document.getElementById('dialog-show-card');
			if (dialog) {
				$('#dialog-text-dialog-alert2').html(card_template);
				$('#dialog-show-card #add_to_maybe_this').attr("onclick","add_to_maybe_this('" + JSON.stringify(text) + "');");
				need_translate();
				dialog.show();
			}
			else {
				ons.createDialog('dialog-show-card.html')
					.then(function (dialog) {
					$('#dialog-text-dialog-alert2').html(card_template);
					$('#dialog-show-card #add_to_maybe_this').attr("onclick","add_to_maybe_this('" + JSON.stringify(text) + "');");
					need_translate();
					dialog.show();
				});
			}
		};
		function show_progress_bar(cancel_btn) {
			var dialog = document.getElementById('dialog_progress_bar');
			if (dialog) {
				need_translate();
				$('#Uploading-text').html(multilang.get('Applying_Changes'));
				if(cancel_btn=="without_cancel_btn")
					$("#progress_bar_cancel_btn").css("display","none");
				else if(cancel_btn=="with_cancel_btn")
					$("#progress_bar_cancel_btn").css("display","block");
				dialog.show();
			}
			else {
				ons.createDialog('dialog_progress_bar.html')
					.then(function (dialog) {
					need_translate();
					$('#Uploading-text').html(multilang.get('Applying_Changes'));
					if(cancel_btn=="without_cancel_btn")
						$("#progress_bar_cancel_btn").css("display","none");
					else if(cancel_btn=="with_cancel_btn")
						$("#progress_bar_cancel_btn").css("display","block");
					dialog.show();
				});
			}
		};
		function hideDialog(id) {
			document.getElementById(id).hide();
		};
		function check_server(handle_check_server) {
			var timeStampInMs = window.performance && window.performance.now && window.performance.timing && window.performance.timing.navigationStart ? window.performance.now() + window.performance.timing.navigationStart : Date.now();
			$.ajax({
					url: server_url,
					type: "POST",
					data: {
						act: "check_net",//timeStampInMs
					},
					//async: true,
					success : function(text)
					{
						modal.hide({animation: "fade"});
						handle_check_server(text);
					},
					error: function(jqXHR, exception) {
						$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
						modal.show({animation: "fade"});
						setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
					},
			});
		}
		function show_get_found_location_popup() {
			var dialog = document.getElementById('found_get_location_dialog');
			if (dialog) {
				//need_translate();
				dialog.show({animationOptions:{delay: 0.3}});
			}
			else {
				ons.createDialog('found_get_location_dialog.html')
					.then(function (dialog) {
					need_translate();
					if(window.localStorage.getItem('found_City_Name') != null)
						document.getElementById('found_City_Name').value = window.localStorage.getItem("found_City_Name");
					if(window.localStorage.getItem('found_Pillar_Number') != null)
						document.getElementById('found_Pillar_Number').value = window.localStorage.getItem("found_Pillar_Number");
					if(window.localStorage.getItem('found_Tent_Name') != null)
						document.getElementById('found_Tent_Name').value = window.localStorage.getItem("found_Tent_Name");
					dialog.show({animationOptions:{delay: 0.3}});
				});
			}
		};
		function show_get_found_Contacts_popup() {
			var dialog = document.getElementById('found_get_Contacts_dialog');
			if (dialog) {
				//need_translate();
				dialog.show({animationOptions:{delay: 0.3}});
			}
			else {
				ons.createDialog('found_get_Contacts_dialog.html')
					.then(function (dialog) {
					need_translate();

					if(window.localStorage.getItem('found_Phone_number') != null)
						document.getElementById('found_Phone_number').value = window.localStorage.getItem("found_Phone_number");
					if(window.localStorage.getItem('found_Telegram_ID') != null)
						document.getElementById('found_Telegram_ID').value = window.localStorage.getItem("found_Telegram_ID");
					if(window.localStorage.getItem('found_WhatsApp_ID') != null)
						document.getElementById('found_WhatsApp_ID').value = window.localStorage.getItem("found_WhatsApp_ID");
					if(window.localStorage.getItem('found_Line_ID') != null)
						document.getElementById('found_Line_ID').value = window.localStorage.getItem("found_Line_ID");
					if(window.localStorage.getItem('found_Imo_ID') != null)
						document.getElementById('found_Imo_ID').value = window.localStorage.getItem("found_Imo_ID");
						
					dialog.show({animationOptions:{delay: 0.3}});
				});
			}
		};
		function show_get_remaining_capacity_popup() {
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var text = window.localStorage.getItem('last_login_result');
				try {
					var json = $.parseJSON(text);
					//
					//json.mukeb_data.capacity_woman_remaining
					var dialog = document.getElementById('get_remaining_capacity');
					if (dialog) {
						need_translate();
						
						if(json.mukeb_data.capacity_man_remaining != null && json.mukeb_data.capacity_man_remaining != "null" && json.mukeb_data.capacity_man_remaining != "")
							document.getElementById('Man_capacity_remaining').value = json.mukeb_data.capacity_man_remaining;
						if(json.mukeb_data.capacity_woman_remaining != null && json.mukeb_data.capacity_woman_remaining != "null" && json.mukeb_data.capacity_woman_remaining != "")
							document.getElementById('Woman_capacity_remaining').value = json.mukeb_data.capacity_woman_remaining;
						
						dialog.show({animationOptions:{delay: 0.3}});
					}
					else {
						ons.createDialog('get_remaining_capacity.html')
							.then(function (dialog) {
							need_translate();

							if(json.mukeb_data.capacity_man_remaining != null && json.mukeb_data.capacity_man_remaining != "null" && json.mukeb_data.capacity_man_remaining != "")
								document.getElementById('Man_capacity_remaining').value = json.mukeb_data.capacity_man_remaining;
							if(json.mukeb_data.capacity_woman_remaining != null && json.mukeb_data.capacity_woman_remaining != "null" && json.mukeb_data.capacity_woman_remaining != "")
								document.getElementById('Woman_capacity_remaining').value = json.mukeb_data.capacity_woman_remaining;
							
							dialog.show({animationOptions:{delay: 0.3}});
						});
					}
					setTimeout(function(){
						$("#get_remaining_capacity #Man_capacity_remaining input")[0].focus();
					}, 350);
				} catch (e) {
					//LogOut();
					console.log("NOT JSON");
				}
			}
		};
		function get_image() {
			window.imagePicker.getPictures(
				function(results) {
					for (var i = 0; i < results.length; i++) {
						console.log('Image URI: ' + results[i]);
						//alert('Image URI: ' + results[i]);
						window.sessionStorage.setItem('send_image_path',results[i]);
						/*
						//send_image(results[i]);
						setTimeout(function(){
							onConfirm();
						}, 600);
						function onConfirm(buttonIndex) {
							if(window.sessionStorage.getItem('send_image_path') != "")
							{
								//alert("2" + window.sessionStorage.getItem('send_image_path'));
								send_image(window.sessionStorage.getItem('send_image_path'));
							}
						}
						*/
					}
				}, function (error) {
					console.log('Error: ' + error);
					//alert('Error: ' + error);
				}, {
					maximumImagesCount: 1,
					width: 800,
					quality:75
				}
			);
		}
		function get_image_for_mukeb() {
			window.imagePicker.getPictures(
				function(results) {
					for (var i = 0; i < results.length; i++) {
						console.log('Image URI: ' + results[i]);
						//alert('Image URI: ' + results[i]);
						window.sessionStorage.setItem('send_image_path',results[i]);
						/*
						//send_image(results[i]);
						setTimeout(function(){
							onConfirm();
						}, 600);
						function onConfirm(buttonIndex) {
							if(window.sessionStorage.getItem('send_image_path') != "")
							{
								//alert("2" + window.sessionStorage.getItem('send_image_path'));
							}
						}
						*/
						send_image_for_mukeb();
					}
				}, function (error) {
					console.log('Error: ' + error);
					//alert('Error: ' + error);
				}, {
					maximumImagesCount: 1,
					width: 800,
					quality:75
				}
			);
		}
		function progress_bar_cancel_btn(){
			FileTransfer_OBJ.abort();
			$(".progress-bar__primary").css("width","");
			hideDialog('dialog_progress_bar');
			goto_page_zaer_service();
		}
		function submit_missing_data_by_ajax(){
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};
				params.udid = window.localStorage.getItem('udid');
				
				if(window.localStorage.getItem('found_City_Name') != null)
					params.found_City_Name		= window.localStorage.getItem("found_City_Name");
				if(window.localStorage.getItem('found_Pillar_Number') != null)
					params.found_Pillar_Number	= window.localStorage.getItem("found_Pillar_Number");
				if(window.localStorage.getItem('found_Tent_Name') != null)
					params.found_Tent_Name		= window.localStorage.getItem("found_Tent_Name");
				if(window.localStorage.getItem('found_Phone_number') != null)
					params.found_Phone_number	= window.localStorage.getItem("found_Phone_number");
				if(window.localStorage.getItem('found_Telegram_ID') != null)
					params.found_Telegram_ID	= window.localStorage.getItem("found_Telegram_ID");
				if(window.localStorage.getItem('found_WhatsApp_ID') != null)
					params.found_WhatsApp_ID	= window.localStorage.getItem("found_WhatsApp_ID");
				if(window.localStorage.getItem('found_Line_ID') != null)
					params.found_Line_ID		= window.localStorage.getItem("found_Line_ID");
				if(window.localStorage.getItem('found_Imo_ID') != null)
					params.found_Imo_ID			= window.localStorage.getItem("found_Imo_ID");
				
				if(window.sessionStorage.getItem('user_longitude') != null)
					params.longitude			= window.sessionStorage.getItem('user_longitude');
				if(window.sessionStorage.getItem('user_latitude') != null)
					params.latitude				= window.sessionStorage.getItem('user_latitude');
				
				params.Select_a_category_id		= document.getElementById('Select_a_category_id').value;
				params.Name_of_the_device		= document.getElementById('Name_of_the_device').value;
				params.Description				= document.getElementById('Description').value;
				params.act						= "add_missing";
				params.type						= "1";
				params.language					= window.localStorage.getItem('language');
				console.log("params");
				console.log(params);
				$.ajax({
						url: server_url_missing_data,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							hideDialog('dialog_progress_bar');
							navigator.notification.alert(
								multilang.get("Your_Data_Submited_Successfully"),	// message
								go_back_from_missing_object_data_entry,								// callback
								multilang.get("notice"),							// title
								multilang.get("ok")									// buttonName
							);
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						},
				});
			}
		}
		function submit_missing_data_by_image(){
			if(window.sessionStorage.getItem('send_image_path')==null)
				return false;
			$('#Uploading-text').html("Uploading...");
			file = window.sessionStorage.getItem('send_image_path');
//alert('Image URI: ' + file);
			console.log("start_download check internet");
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				console.log("start_download : we have internet");

//alert("start_download URL: " + file);
				console.log("start_download URL: " + file);
				
				FileTransfer_OBJ = new FileTransfer();
				
				$('.progress-bar-parent').css("display","block");
//alert("1");
				FileTransfer_OBJ.onprogress = function(progressEvent) {
					if (progressEvent.lengthComputable) {
						var perc = Math.floor(progressEvent.loaded / progressEvent.total * 100);
						//$('#status').html(perc + "% Uploading...");
						//$('.progress-bar-percent').css('width',perc + "%");
						$(".progress-bar__primary").css("width",perc + "%");
						$('#Uploading-text').html(perc + "% Uploading...");

						//progress_bar_element.css('width',perc);
					} else {
						$('#Uploading-text').html("Uploading...");
						//$('#status').html($('#status').html() + ".");
						//progress_bar_element.css('width',progress_bar_element.width()+1);
						//$('.progress-bar-percent').css('width',$('.progress-bar-parent').find('span').width()+1);
						//$(".progress-bar__primary").css("width",perc + "%");
					}
				};
//alert("2");
				var uri = encodeURI(server_url_missing_data);
				function win(r) {
					console.log("Code = " + r.responseCode);
					console.log("Response = " + r.response);
					console.log("Sent = " + r.bytesSent);
//alert("Response = " + r.response);
					
					//$('#status').html("");
					//$('.progress-bar-parent').find('span').css('width','2%');
					$('#Uploading-text').html("Upload is Finished");
					console.log("start_download : done");
					navigator.notification.alert(
						multilang.get("Your_Data_Submited_Successfully"),	// message
						go_back_from_missing_object_data_entry,			// callback
						multilang.get("notice"),							// title
						multilang.get("ok")									// buttonName
					);
					//$('.progress-bar-parent').css("display","none");
					hideDialog('dialog_progress_bar');
					window.sessionStorage.removeItem('send_image_path');
				}
//alert("3");
				function fail(error) {
alert("An error has occurred: Code = " + error.code);
					//console.log("upload error source " + error.source);
					//console.log("upload error target " + error.target);
//alert(JSON.stringify(error));
					navigator.notification.alert(
						multilang.get("Error_in_uploading_file_please_try_again_later"),	// message
						alertDismissed,														// callback
						multilang.get("warning"),											// title
						multilang.get("ok")													// buttonName
					);
					$('.progress-bar-parent').find('span').css('width','2%');
					//$('.progress-bar-percent').css('width',"");
					//$('.progress-bar-parent').css("display","none");
					$(".progress-bar__primary").css("width","");
					hideDialog('dialog_progress_bar');
					window.sessionStorage.removeItem('send_image_path');
				}
//alert("4");
				var options = new FileUploadOptions();
				var params = {};
				/*
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				*/
				params.udid = window.localStorage.getItem('udid');
				
				if(window.localStorage.getItem('found_City_Name') != null)
					params.found_City_Name		= window.localStorage.getItem("found_City_Name");
				if(window.localStorage.getItem('found_Pillar_Number') != null)
					params.found_Pillar_Number	= window.localStorage.getItem("found_Pillar_Number");
				if(window.localStorage.getItem('found_Tent_Name') != null)
					params.found_Tent_Name		= window.localStorage.getItem("found_Tent_Name");
				if(window.localStorage.getItem('found_Phone_number') != null)
					params.found_Phone_number	= window.localStorage.getItem("found_Phone_number");
				if(window.localStorage.getItem('found_Telegram_ID') != null)
					params.found_Telegram_ID	= window.localStorage.getItem("found_Telegram_ID");
				if(window.localStorage.getItem('found_WhatsApp_ID') != null)
					params.found_WhatsApp_ID	= window.localStorage.getItem("found_WhatsApp_ID");
				if(window.localStorage.getItem('found_Line_ID') != null)
					params.found_Line_ID		= window.localStorage.getItem("found_Line_ID");
				if(window.localStorage.getItem('found_Imo_ID') != null)
					params.found_Imo_ID			= window.localStorage.getItem("found_Imo_ID");
				
				if(window.sessionStorage.getItem('user_longitude') != null)
					params.longitude			= window.sessionStorage.getItem('user_longitude');
				if(window.sessionStorage.getItem('user_latitude') != null)
					params.latitude				= window.sessionStorage.getItem('user_latitude');
				
				params.Select_a_category_id		= document.getElementById('Select_a_category_id').value;
				params.Name_of_the_device		= document.getElementById('Name_of_the_device').value;
				params.Description				= document.getElementById('Description').value;
				params.act						= "add_missing";
				params.type						= "1";
				params.language					= window.localStorage.getItem('language');
				
				options.params = params;
				options.httpMethod = "POST";
				if(device.platform == 'Android')
					options.chunkedMode = false;
				//alert(JSON.stringify(params));
				//alert(JSON.stringify(options));
				
				FileTransfer_OBJ.upload(file, uri, win, fail, options);
//alert("5");		
				/*
				$("#abort").click( function(i) {
					FileTransfer_OBJ.abort();
					$('.progress-bar-parent').find('span').css('width','2%');
					//$('.progress-bar-percent').css('width',"");
					//$('.progress-bar-parent').css("display","none");
					$(".progress-bar__primary").css("width","");
					hideDialog('dialog_progress_bar');
					//window.location.href = "index.html";
					//fn.load('zaer_services.html');
					goto_page_zaer_service();
				});
				*/
			}
		
		}
		function send_image_for_mukeb(){
			if(window.sessionStorage.getItem('send_image_path')==null)
				return false;
			$('#Uploading-text').html("Uploading...");
			file = window.sessionStorage.getItem('send_image_path');
			//alert('Image URI: ' + file);
			console.log("start_download check internet");
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				show_progress_bar("with_cancel_btn");
				
				console.log("start_download : we have internet");

				//alert("start_download URL: " + file);
				console.log("start_download URL: " + file);
				FileTransfer_OBJ = new FileTransfer();
				
				//alert("1");
				FileTransfer_OBJ.onprogress = function(progressEvent) {
					if (progressEvent.lengthComputable) {
						var perc = Math.floor(progressEvent.loaded / progressEvent.total * 100);
						//$('#status').html(perc + "% Uploading...");
						//$('.progress-bar-percent').css('width',perc + "%");
						$(".progress-bar__primary").css("width",perc + "%");
						$('#Uploading-text').html(perc + "% Uploading...");

						//progress_bar_element.css('width',perc);
					} else {
						$('#Uploading-text').html("Uploading...");
						//$('#status').html($('#status').html() + ".");
						//progress_bar_element.css('width',progress_bar_element.width()+1);
						//$('.progress-bar-percent').css('width',$('.progress-bar-parent').find('span').width()+1);
						//$(".progress-bar__primary").css("width",perc + "%");
					}
				};
				//alert("2");
				var uri = encodeURI(server_url_mukeb_image);
				alert("server_url_mukeb_image : " + server_url_mukeb_image);
				alert("uri : " + uri);
				function win(r) {
					console.log("Code = " + r.responseCode);
					console.log("Response = " + r.response);
					console.log("Sent = " + r.bytesSent);
					//alert("Response = " + r.response);
					var text = r.response;
					try {
						var json = $.parseJSON(text);
						
						if(json.answer=="Login_tere_is_not_any_account")
						{
							LogOut_and_notif();
						}
						else if(json.answer=="uplaoded")
						{
							window.localStorage.setItem('token',json.token);
							window.localStorage.setItem('last_login_result',text);
							window.localStorage.setItem('capacity_woman',json.mukeb_data.capacity_woman);
							window.localStorage.setItem('capacity_man',json.mukeb_data.capacity_man);
							window.sessionStorage.setItem('he_is_logined',"true");
							mukeb_manager_update_images();
						}
						else
						{
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:3</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
						}
					} catch (e) {
						$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:5</span>');
						modal.show({animation: "fade"});
						setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
					}
					
					//$('#status').html("");
					//$('.progress-bar-parent').find('span').css('width','2%');
					$('#Uploading-text').html("Upload is Finished");
					console.log("start_download : done");
					navigator.notification.alert(
						multilang.get("Your_Data_Submited_Successfully"),	// message
						alertDismissed,										// callback
						multilang.get("notice"),							// title
						multilang.get("ok")									// buttonName
					);
					//$('.progress-bar-parent').css("display","none");
					hideDialog('dialog_progress_bar');
					window.sessionStorage.removeItem('send_image_path');
				}
				//alert("3");
				function fail(error) {
					alert("An error has occurred: Code = " + error.code);
					//console.log("upload error source " + error.source);
					//console.log("upload error target " + error.target);
					//alert(JSON.stringify(error));
					navigator.notification.alert(
						multilang.get("Error_in_uploading_file_please_try_again_later"),	// message
						alertDismissed,														// callback
						multilang.get("warning"),											// title
						multilang.get("ok")													// buttonName
					);
					$('.progress-bar-parent').find('span').css('width','2%');
					//$('.progress-bar-percent').css('width',"");
					//$('.progress-bar-parent').css("display","none");
					$(".progress-bar__primary").css("width","");
					hideDialog('dialog_progress_bar');
					window.sessionStorage.removeItem('send_image_path');
				}
				//alert("4");
				var options = new FileUploadOptions();
				var params = {};
				/*
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				//////////////////////////////////////////////////////////////////////////////////////////
				*/
				alert(window.localStorage.getItem('udid'));
				params.udid						= window.localStorage.getItem('udid');			
				params.token					= encrypt_by_date(window.localStorage.getItem('token'));
				params.token2					= window.localStorage.getItem('token');
				params.language					= window.localStorage.getItem('language');
				params.act						= "edit_mukeb_data_add_image";
				
				options.params = params;
				options.httpMethod = "POST";
				if(device.platform == 'Android')
					options.chunkedMode = false;
					
				alert(JSON.stringify(params));
				alert(JSON.stringify(options));
				alert(uri);
				alert(file);
				
				FileTransfer_OBJ.upload(file, uri, win, fail, options);
				alert("5");		
				/*
				$("#abort").click( function(i) {
					FileTransfer_OBJ.abort();
					$('.progress-bar-parent').find('span').css('width','2%');
					//$('.progress-bar-percent').css('width',"");
					//$('.progress-bar-parent').css("display","none");
					$(".progress-bar__primary").css("width","");
					hideDialog('dialog_progress_bar');
					//window.location.href = "index.html";
					//fn.load('zaer_services.html');
					goto_page_zaer_service();
				});
				*/
			}
		
		}
		function submit_pre_registration(){
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};
				if(window.cordova)
					navigator.geolocation.getCurrentPosition(getCurrentPosition_onSuccess_without_alert, getCurrentPosition_onError);

				params.udid		= window.localStorage.getItem('udid');
				params.language	= window.localStorage.getItem('language');
				
				if(window.sessionStorage.getItem('user_longitude') != null)
					params.longitude			= window.sessionStorage.getItem('user_longitude');
				if(window.sessionStorage.getItem('user_latitude') != null)
					params.latitude				= window.sessionStorage.getItem('user_latitude');
					
				var has_error = false;
				if(document.getElementById('Mobile_Number_register').value=="")
				{
					$("#Mobile_Number_register").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Mobile_Number_register").removeClass("required_but_empty");

				if(document.getElementById('Mukeb_Name').value=="")
				{
					$("#Mukeb_Name").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Mukeb_Name").removeClass("required_but_empty");
					
				if(window.localStorage.getItem('city_name')==null || window.localStorage.getItem('city_name')=="")
				{
					$("#city_name").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#city_name").removeClass("required_but_empty");

				if($(current_page).find("#Captcha2").val()=="")
				{
					$("#Captcha2:visible").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Captcha2:visible").removeClass("required_but_empty");

				if(has_error)
				{
					ons.notification.alert(multilang.get("Please_fill_the_required_fields"));
					return false;
				}
				params.Mobile_Number			= document.getElementById('Mobile_Number_register').value;
				params.Mukeb_Name				= document.getElementById('Mukeb_Name').value;
				params.city_name				= window.localStorage.getItem('city_name');
				params.captcha					= $(current_page).find("#Captcha2").val();
				
				window.sessionStorage.setItem('Mobile_Number_register',document.getElementById('Mobile_Number_register').value);
				window.sessionStorage.setItem('Mukeb_Name',document.getElementById('Mukeb_Name').value);
				window.sessionStorage.setItem('city_name',window.localStorage.getItem('city_name'));
				
				params.act						= "mukeb_pre_registration";
				console.log(params);
				show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							if(text=="mukeb_already_exist")
							{
								hideDialog('dialog_progress_bar');
								fromTemplate(multilang.get('mukeb_already_exist'));
							}
							else if(text=="bad_captcha")
							{
								hideDialog('dialog_progress_bar');
								fromTemplate(multilang.get('bad_captcha'));
							}
							else
							{
								hideDialog('dialog_progress_bar');
								//fromTemplate(multilang.get('Pre_registration_finished'));
								fromTemplate(multilang.get('you_will_recive_sms'));
								//window.localStorage.setItem('Pre_registration_step','1');
								document.querySelector('#myNavigator').pushPage('confirm_mukeb_manager.html', {animation: "reversedSlide",animationOptions:{delay: 0.4} });
							}
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						}
				});
			}
		}
		function submit_pre_registration_resend_sms(){
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};
				if(window.cordova)
					navigator.geolocation.getCurrentPosition(getCurrentPosition_onSuccess_without_alert, getCurrentPosition_onError);

				params.udid = window.localStorage.getItem('udid');
								
				if(window.sessionStorage.getItem('user_longitude') != null)
					params.longitude			= window.sessionStorage.getItem('user_longitude');
				if(window.sessionStorage.getItem('user_latitude') != null)
					params.latitude				= window.sessionStorage.getItem('user_latitude');

				params.Mobile_Number			= window.sessionStorage.getItem('Mobile_Number_register');
				params.Mukeb_Name				= window.sessionStorage.getItem('Mukeb_Name');
				params.city_name				= window.sessionStorage.getItem('city_name');
				params.language					= window.localStorage.getItem('language');
				
				params.act						= "mukeb_pre_registration";
				//console.log(params);
				show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							hideDialog('dialog_progress_bar');
							fromTemplate(multilang.get('Pre_registration_finished'));
							//document.querySelector('#myNavigator').pushPage('confirm_mukeb_manager.html', {animation: "slid",animationOptions:{delay: 0.4} });
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						}
				});
			}
		}
		function submit_forgot_pasword_mukeb_manager_login_send_sms(mobile_number){
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};
				
				params.udid = window.localStorage.getItem('udid');
				params.Mobile_Number			= mobile_number;
				params.captcha					= $(current_page).find("#Captcha").val();
				params.language					= window.localStorage.getItem('language');
				params.act						= "mukeb_forgot_password";
				//console.log(params);
				show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							if(text=="bad_captcha")
							{
								hideDialog('dialog_progress_bar');
								fromTemplate(multilang.get('bad_captcha'));
							}
							else
							{
								try {
									json = $.parseJSON(text);
									
									if(json.answer=="Login_tere_is_not_any_account")
									{
										ons.notification.alert(multilang.get("Login_tere_is_not_any_account"));
									}
									else if(json.answer=="we_will_send_sms")
									{
										document.querySelector('#myNavigator').pushPage('forgot_pasword_mukeb_manager_login.html', {animation: "reversedSlide",animationOptions:{delay: 0.4} });
									}
									else
									{
										$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:3</span>');
										modal.show({animation: "fade"});
										setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
									}
								} catch (e) {
									$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:5</span>');
									modal.show({animation: "fade"});
									setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
								}
							}
							hideDialog('dialog_progress_bar');
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						}
				});
			}
		}
		function submit_forgot_pasword_mukeb_manager_login_resend_sms(mobile_number){
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};

				params.udid = window.localStorage.getItem('udid');
				params.Mobile_Number			= mobile_number;
				params.language					= window.localStorage.getItem('language');
				params.act						= "mukeb_forgot_password";
				//console.log(params);
				show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							try {
								json = $.parseJSON(text);
								
								if(json.answer=="Login_tere_is_not_any_account")
								{
									ons.notification.alert(multilang.get("Login_tere_is_not_any_account"));
								}
								else if(json.answer=="we_will_send_sms")
								{
									//document.querySelector('#myNavigator').pushPage('forgot_pasword_mukeb_manager_login.html', {animation: "slid",animationOptions:{delay: 0.4} });
								}
								else
								{
									$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:3</span>');
									modal.show({animation: "fade"});
									setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
								}
							} catch (e) {
								$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:5</span>');
								modal.show({animation: "fade"});
								setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							}
							hideDialog('dialog_progress_bar');
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						}
				});
			}
		}
		function submit_pre_registration_check_sms(){
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};
				params.udid = window.localStorage.getItem('udid');
				
				var has_error = false;
				if(document.getElementById('Code_in_SMS').value=="")
				{
					$("#Code_in_SMS").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Code_in_SMS").removeClass("required_but_empty");

				if(has_error)
				{
					ons.notification.alert(multilang.get("Please_fill_the_required_fields"));
					return false;
				}
				params.Code_in_SMS				= document.getElementById('Code_in_SMS').value;
				params.Mobile_Number			= window.sessionStorage.getItem('Mobile_Number_register');
				params.language					= window.localStorage.getItem('language');
				params.act						= "mukeb_check_sms";
				//console.log(params);
				show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							try {
								json = $.parseJSON(text);
								
								if(json.answer=="Login_Invalid_password")
								{
									ons.notification.alert(multilang.get("check_sms_wrong_number"));
								}
								else if(json.answer=="Logined")
								{
									ons.notification.alert(multilang.get("Login_successfully"));
									console.log(json.token);
									window.localStorage.setItem('token',json.token);
									window.localStorage.setItem('last_login_result',text);
									window.sessionStorage.setItem('he_is_logined',"true");
									
									window.localStorage.setItem('capacity_woman',json.mukeb_data.capacity_woman);
									window.localStorage.setItem('capacity_man',json.mukeb_data.capacity_man);
									
									if(window.localStorage.getItem('capacity_man')=="null" && window.localStorage.getItem('capacity_woman')=="null")
										document.querySelector('#myNavigator').pushPage('edit_mukeb_data.html', {animation: "slid",animationOptions:{delay: 0.4} });
									else
										document.querySelector('#myNavigator').pushPage('mukeb_manager_menu.html', {animation: "slid",animationOptions:{delay: 0.4} });
								}
								else
								{
									$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:3</span>');
									modal.show({animation: "fade"});
									setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
								}
							} catch (e) {
								$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:5</span>');
								modal.show({animation: "fade"});
								setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							}
							hideDialog('dialog_progress_bar');
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						}
				});
			}
		}
		function submit_forgot_pasword_mukeb_manager_login_check_sms(){
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};
				params.udid = window.localStorage.getItem('udid');
				
				var has_error = false;
				if(document.getElementById('Code_in_SMS').value=="")
				{
					$("#Code_in_SMS").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Code_in_SMS").removeClass("required_but_empty");

				if($(current_page).find("#Captcha").val()=="")
				{
					$("#Captcha:visible").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Captcha:visible").removeClass("required_but_empty");

				if(has_error)
				{
					ons.notification.alert(multilang.get("Please_fill_the_required_fields"));
					return false;
				}
				params.captcha					= $(current_page).find("#Captcha").val();
				params.Code_in_SMS				= document.getElementById('Code_in_SMS').value;
				params.Mobile_Number			= window.sessionStorage.getItem('mobile_number');
				params.language					= window.localStorage.getItem('language');
				params.act						= "mukeb_login_check_sms";
				//console.log(params);
				show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							if(text=="bad_captcha")
							{
								hideDialog('dialog_progress_bar');
								fromTemplate(multilang.get('bad_captcha'));
							}
							else
							{
								try {
									json = $.parseJSON(text);
									
									if(json.answer=="Login_Invalid_password")
									{
										ons.notification.alert(multilang.get("check_sms_wrong_number"));
									}
									else if(json.answer=="Login_tere_is_not_any_account")
									{
										ons.notification.alert(multilang.get("Login_tere_is_not_any_account"));
									}
									else if(json.answer=="Logined")
									{
										ons.notification.alert(multilang.get("Login_successfully"));
										console.log(json.token);
										window.localStorage.setItem('token',json.token);
										window.localStorage.setItem('last_login_result',text);
										window.sessionStorage.setItem('he_is_logined',"true");
										
										window.localStorage.setItem('capacity_woman',json.mukeb_data.capacity_woman);
										window.localStorage.setItem('capacity_man',json.mukeb_data.capacity_man);
										
										if(window.localStorage.getItem('capacity_man')=="null" && window.localStorage.getItem('capacity_woman')=="null")
											document.querySelector('#myNavigator').pushPage('edit_mukeb_data.html', {animation: "slid",animationOptions:{delay: 0.4} });
										else
											document.querySelector('#myNavigator').pushPage('mukeb_manager_menu.html', {animation: "slid",animationOptions:{delay: 0.4} });
									}
									else
									{
										$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:3</span>');
										modal.show({animation: "fade"});
										setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
									}
								} catch (e) {
									$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:5</span>');
									modal.show({animation: "fade"});
									setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
								}
							}
							hideDialog('dialog_progress_bar');
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						}
				});
			}
		}
		function submit_login(){
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};
				if(window.cordova)
					navigator.geolocation.getCurrentPosition(getCurrentPosition_onSuccess_without_alert, getCurrentPosition_onError);

				params.udid = window.localStorage.getItem('udid');
								
				if(window.sessionStorage.getItem('user_longitude') != null)
					params.longitude			= window.sessionStorage.getItem('user_longitude');
				if(window.sessionStorage.getItem('user_latitude') != null)
					params.latitude				= window.sessionStorage.getItem('user_latitude');
					
				var has_error = false;
				if(document.getElementById('Mobile_Number').value=="")
				{
					$("#Mobile_Number").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Mobile_Number").removeClass("required_but_empty");

				if($(current_page).find("#Captcha").val()=="")
				{
					$("#Captcha:visible").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Captcha:visible").removeClass("required_but_empty");

				if(document.getElementById('Password').value=="")
				{
					$("#Password").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Password").removeClass("required_but_empty");
				
				if(has_error)
				{
					ons.notification.alert(multilang.get("Please_fill_the_required_fields"));
					return false;
				}
				params.captcha					= $(current_page).find("#Captcha").val();
				params.Mobile_Number			= document.getElementById('Mobile_Number').value;
				params.Password					= encrypt_by_date($.md5($.md5(Base64.encode(document.getElementById('Password').value))));
				params.language					= window.localStorage.getItem('language');
				params.act						= "login_mukeb";
				//return console.log(params);

				show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							if(text=="bad_captcha")
							{
								hideDialog('dialog_progress_bar');
								fromTemplate(multilang.get('bad_captcha'));
							}
							else
							{
								try {
									json = $.parseJSON(text);
									
									if(json.answer=="Login_Invalid_password")
									{
										ons.notification.alert(multilang.get("Login_Invalid_password"));
									}
									else if(json.answer=="Login_tere_is_not_any_account")
									{
										ons.notification.alert(multilang.get("Login_tere_is_not_any_account"));
									}
									else if(json.answer=="Logined")
									{
										ons.notification.alert(multilang.get("Login_successfully"));
										console.log(json.token);
										window.localStorage.setItem('token',json.token);
										window.localStorage.setItem('last_login_result',text);
										window.sessionStorage.setItem('he_is_logined',"true");
										
										window.localStorage.setItem('capacity_woman',json.mukeb_data.capacity_woman);
										window.localStorage.setItem('capacity_man',json.mukeb_data.capacity_man);
										window.localStorage.setItem('mukeb_data',JSON.stringify(json.mukeb_data));
										
										if(window.localStorage.getItem('capacity_man')=="null" && window.localStorage.getItem('capacity_woman')=="null")
											document.querySelector('#myNavigator').pushPage('edit_mukeb_data.html', {animation: "slid",animationOptions:{delay: 0.4} });
										else
											document.querySelector('#myNavigator').pushPage('mukeb_manager_menu.html', {animation: "slid",animationOptions:{delay: 0.4} });
									}
									else
									{
										$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:3</span>');
										modal.show({animation: "fade"});
										setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
									}
								} catch (e) {
									$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:5</span>');
									modal.show({animation: "fade"});
									setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
								}
							}
							hideDialog('dialog_progress_bar');
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						},
				});
			}
		}
		function auto_login(act_type){//"change_page"
//alert("auto_login - udid:" + window.localStorage.getItem('udid'));
			if(window.localStorage.getItem('token') == null || window.localStorage.getItem('token') == "")
				return false;
//alert("auto_login - token:" + window.localStorage.getItem('token'));
			networkState = navigator.connection.type;
			if (window.cordova && networkState == Connection.NONE) {
				/*
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
				*/
			}
			else{
//alert("auto_login - we have net");
				var params = {};
				if(window.cordova)
					navigator.geolocation.getCurrentPosition(getCurrentPosition_onSuccess_without_alert, getCurrentPosition_onError);

				if(window.sessionStorage.getItem('user_longitude') != null)
					params.longitude			= window.sessionStorage.getItem('user_longitude');
				if(window.sessionStorage.getItem('user_latitude') != null)
					params.latitude				= window.sessionStorage.getItem('user_latitude');
					
				params.udid			= window.localStorage.getItem('udid');			
				params.token		= encrypt_by_date(window.localStorage.getItem('token'));
				params.token2		= window.localStorage.getItem('token');
				params.language		= window.localStorage.getItem('language');
				params.act			= "autologin_mukeb";
				//return console.log(params);

				//show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
//alert("auto_login - text:" + window.localStorage.getItem('text'));
							try {
								json = $.parseJSON(text);
								
								if(json.answer=="Login_Invalid_password")
								{
									//ons.notification.alert(multilang.get("Login_Invalid_password"));
									window.sessionStorage.setItem('he_is_logined',"false");
									//window.localStorage.setItem('token',"");
								}
								else if(json.answer=="Login_tere_is_not_any_account")
								{
									//ons.notification.alert(multilang.get("Login_tere_is_not_any_account"));
									window.sessionStorage.setItem('he_is_logined',"false");
									window.localStorage.removeItem('token');
									//window.localStorage.setItem('token',"");
								}
								else if(json.answer=="Logined")
								{
//alert("auto_login - answer:" + json.answer);
									//ons.notification.alert(multilang.get("Login_successfully"));
									//console.log(json.token);
									window.localStorage.setItem('token',json.token);
									window.localStorage.setItem('last_login_result',text);
									window.localStorage.setItem('capacity_woman',json.mukeb_data.capacity_woman);
									window.localStorage.setItem('capacity_man',json.mukeb_data.capacity_man);
									window.localStorage.setItem('mukeb_data',JSON.stringify(json.mukeb_data));
									
									window.sessionStorage.setItem('he_is_logined',"true");
									
										
									if(act_type=="change_page")
									{
										if(window.localStorage.getItem('capacity_man')=="null" && window.localStorage.getItem('capacity_woman')=="null")
											document.querySelector('#myNavigator').pushPage('edit_mukeb_data.html', {animation: "slid",animationOptions:{delay: 0.4} });
										else
											document.querySelector('#myNavigator').pushPage('mukeb_manager_menu.html', {animation: "slid",animationOptions:{delay: 0.4} });
									}
								}
								else
								{
									//$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:3</span>');
									//modal.show({animation: "fade"});
									//setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
								}
							} catch (e) {
								//$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:5</span>');
								//modal.show({animation: "fade"});
								//setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							}
							//hideDialog('dialog_progress_bar');
						},
						error: function(jqXHR, exception) {
							//$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							//modal.show({animation: "fade"});
							//setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							//hideDialog('dialog_progress_bar');
						},
				});
			}
		}
		function get_mukeb_list_for_map(){
			console.log("get_mukeb_list_for_map");
			networkState = navigator.connection.type;
			if (window.cordova && networkState == Connection.NONE) {
				/*
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
				*/
			}
			else{
				var params = {};
				if(window.cordova)
					navigator.geolocation.getCurrentPosition(getCurrentPosition_onSuccess_without_alert, getCurrentPosition_onError);

				if(window.sessionStorage.getItem('user_longitude') != null)
					params.longitude			= window.sessionStorage.getItem('user_longitude');
				if(window.sessionStorage.getItem('user_latitude') != null)
					params.latitude				= window.sessionStorage.getItem('user_latitude');
					
				params.udid			= window.localStorage.getItem('udid');
				params.language		= window.localStorage.getItem('language');
				params.act			= "get_mukeb_list";
				//return console.log(params);

				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							try {
								json = $.parseJSON(text);
								console.log("json");
								console.log(text);
								window.localStorage.setItem('json_mukeb_list_for_map',text);
								window.sessionStorage.setItem('json_mukeb_list_for_map',text);
							} catch (e) {
								console.log("is not json");
								console.log(text);
							}
						},
						error: function(jqXHR, exception) {
							//$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							//modal.show({animation: "fade"});
							//setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							//hideDialog('dialog_progress_bar');
						},
				});
			}
		}
		function get_all_data(){
			console.log("get_all_data");
			networkState = navigator.connection.type;
			if (window.cordova && networkState == Connection.NONE) {
				/*
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
				*/
			}
			else{
				var params = {};
				if(window.cordova)
					navigator.geolocation.getCurrentPosition(getCurrentPosition_onSuccess_without_alert, getCurrentPosition_onError);

				if(window.sessionStorage.getItem('user_longitude') != null)
					params.longitude			= window.sessionStorage.getItem('user_longitude');
				if(window.sessionStorage.getItem('user_latitude') != null)
					params.latitude				= window.sessionStorage.getItem('user_latitude');
					
				params.udid			= window.localStorage.getItem('udid');
				params.language		= window.localStorage.getItem('language');
				params.act			= "get_all_data";
				//return console.log(params);

				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							try {
								json = $.parseJSON(text);
								console.log("json");
								//console.log(text);
								window.localStorage.setItem('map_array_ar',JSON.stringify(json.map_array_ar));
								window.sessionStorage.setItem('map_array_ar',JSON.stringify(json.map_array_ar));
								window.localStorage.setItem('map_array_en',JSON.stringify(json.map_array_en));
								window.sessionStorage.setItem('map_array_en',JSON.stringify(json.map_array_en));
								window.localStorage.setItem('map_array_fa',JSON.stringify(json.map_array_fa));
								window.sessionStorage.setItem('map_array_fa',JSON.stringify(json.map_array_fa));
								window.localStorage.setItem('news_ar',JSON.stringify(json.news_ar));
								window.localStorage.setItem('news_en',JSON.stringify(json.news_en));
								window.localStorage.setItem('news_fa',JSON.stringify(json.news_fa));
								
								window.localStorage.setItem('WIFI_NETWORK_NOTIC_ar',json.WIFI_NETWORK_NOTIC_ar);
								window.localStorage.setItem('WIFI_NETWORK_NOTIC_en',json.WIFI_NETWORK_NOTIC_en);
								window.localStorage.setItem('WIFI_NETWORK_NOTIC_fa',json.WIFI_NETWORK_NOTIC_fa);
								
								window.localStorage.setItem('contact_support_text_ar',json.contact_text_ar);
								window.localStorage.setItem('contact_support_text_en',json.contact_text_en);
								window.localStorage.setItem('contact_support_text_fa',json.contact_text_fa);
								
								window.localStorage.setItem('last_valid_version',json.last_valid_version);
								window.localStorage.setItem('update_link',json.update_link);
								if(version < json.last_valid_version)
									document.querySelector('#myNavigator').pushPage('update_link.html', {animation: "slid",animationOptions:{delay: 0.4} });
								
								setTimeout(function(){
									toast_update.toggle();
								}, 4000);
								setTimeout(function(){
									toast_update.hide();
								}, 5500);
							} catch (e) {
								console.log("is not json");
								console.log(text);
							}
						},
						error: function(jqXHR, exception) {
							//$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							//modal.show({animation: "fade"});
							//setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							//hideDialog('dialog_progress_bar');
						},
				});
			}
		}
		function get_missing_objects_list(last_id,category_id,handle_get_list){
			networkState = navigator.connection.type;
			if (window.cordova && networkState == Connection.NONE) {
				/*
				*/
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};
				
				if(last_id != null && last_id != "")
					params.last_id		= last_id;
				if(category_id != null && category_id != "")
					params.category_id	= category_id;
				if(category_id === 0)
					params.category_id	= category_id;

				params.udid				= window.localStorage.getItem('udid');
				params.language			= window.localStorage.getItem('language');
				params.act				= "get_missing_objects_list";
				//return console.log(params);

				show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							try {
								json = $.parseJSON(text);
								//console.log("json");
								//console.log(json);
								if(json.answer=="missing_objects_list")
								{
									handle_get_list(json);
									//console.log("json 0000000000000");
									hideDialog('dialog_progress_bar');
								}
								else
								{
									$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span><br>code:5');
									modal.show({animation: "fade"});
									setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
									hideDialog('dialog_progress_bar');
								}
								//window.localStorage.setItem('json_mukeb_list_for_map',text);
								//window.sessionStorage.setItem('json_mukeb_list_for_map',text);
							} catch (e) {
								console.log("is not json");
								console.log(text);
								hideDialog('dialog_progress_bar');
							}
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>code:6');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						},
				});
			}
		}
		function loadmore_for_list(last_id,category_id,handle_get_list){
			console.log("loadmore_for_list(last_id:" + last_id + ",category_id:" + category_id + ");");
			//return true;
			networkState = navigator.connection.type;
			if (window.cordova && networkState == Connection.NONE) {
				/*
				*/
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};
				
				if(last_id != null && last_id != "")
					params.last_id		= last_id;
				if(category_id != null && category_id != "")
					params.category_id	= category_id;
				if(category_id === 0)
					params.category_id	= category_id;

				params.udid				= window.localStorage.getItem('udid');
				params.language			= window.localStorage.getItem('language');
				params.act				= "get_missing_objects_list";
				//return console.log(params);
				
				show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							try {
								json = $.parseJSON(text);
								//console.log("json");
								//console.log(json);
								if(json.answer=="missing_objects_list")
								{
									found_list = $.merge(found_list, json.list);
									
									if(found_list.length<json.total_count)
									{
										var temp_attr = $("#load_more_ons_list_container").attr("onclick").split("'");
										if(temp_attr[3]==null)
											temp_attr = "";
										else
											temp_attr = temp_attr[3];
										//console.log(temp_attr[3]);
										$("#load_more_ons_list_container").attr("onclick","loadmore_for_list('" + found_list[(found_list.length-1)].id + "','" + temp_attr + "','');");
										$("#load_more_ons_list_container").css("display","block");
									}
									else
										$("#load_more_ons_list_container").css("display","none");
									//handle_get_list(json);
									//console.log("json 0000000000000");
									hideDialog('dialog_progress_bar');
								}
								else
								{
									$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span><br>code:5');
									modal.show({animation: "fade"});
									setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
									hideDialog('dialog_progress_bar');
								}
								//window.localStorage.setItem('json_mukeb_list_for_map',text);
								//window.sessionStorage.setItem('json_mukeb_list_for_map',text);
							} catch (e) {
								console.log("is not json");
								console.log(text);
								hideDialog('dialog_progress_bar');
							}
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>code:6');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						},
				});
			}
		}
		function LogOut(){
			//window.localStorage.clear();
			//window.sessionStorage.clear();
			window.sessionStorage.setItem('he_is_logined',"false");
			window.localStorage.removeItem('token');
			window.localStorage.removeItem('udid');

			document.querySelector('#myNavigator').pushPage('home.html', {animation: "reversedSlide",animationOptions:{delay: 0.4} });
		}
		function LogOut_and_notif(){
			ons.notification.alert(multilang.get('Please_Login_Again'));
			window.sessionStorage.setItem('he_is_logined',"false");
			window.localStorage.removeItem('token');
			document.querySelector('#myNavigator').pushPage('select_user_type.html', {animation: "reversedSlide",animationOptions:{delay: 0.4} });
		}
		function editSelect_city_name(event){
			if (event.target.value != '' && event.target.value != null && event.target.value != multilang.get("City_Name")) {
				window.localStorage.setItem('city_name',event.target.value);
				window.localStorage.setItem('found_City_Name',event.target.value);
				$(event.target).addClass("selected");
			}
			else
				$(event.target).removeClass("selected");				
		}
		function editSelect_Mukeb_type(event){
			if (event.target.value != '' && event.target.value != null && event.target.value != multilang.get("Mukeb_type")) {
				window.localStorage.setItem('Mukeb_type',event.target.value);
				$(event.target).addClass("selected");
			}
			else
				$(event.target).removeClass("selected");				
		}
		function encrypt_by_date(text){
			/*
			var d = new Date();
			var curr_date = d.getUTCDate()+0;
			var curr_month = d.getUTCMonth()+1;
			var curr_year = d.getUTCFullYear()+0;
			var curr_Hour = d.getUTCHours()+0;
			var my_date = curr_year + "/" + curr_month + "/" + curr_date + text + curr_Hour;
			//console.log(my_date);
			return $.md5(my_date);
			*/
			return text;
		}
		function edit_mukeb_data_submit(){
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};
				//if(window.cordova)
				//	navigator.geolocation.getCurrentPosition(getCurrentPosition_onSuccess_without_alert, getCurrentPosition_onError);

				params.udid = window.localStorage.getItem('udid');

				if(window.sessionStorage.getItem('mukeb_longitude') != null)
					params.longitude			= window.sessionStorage.getItem('mukeb_longitude');
				if(window.sessionStorage.getItem('mukeb_latitude') != null)
					params.latitude				= window.sessionStorage.getItem('mukeb_latitude');

				var has_error = false;
				if(document.getElementById('Mukeb_Name').value=="")
				{
					$("#Mukeb_Name").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Mukeb_Name").removeClass("required_but_empty");
					
				if(document.getElementById('Man_capacity').value=="")
				{
					$("#Man_capacity").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Man_capacity").removeClass("required_but_empty");
					
				if(document.getElementById('Woman_capacity').value=="")
				{
					$("#Woman_capacity").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Woman_capacity").removeClass("required_but_empty");

				if(document.getElementById('city_name_mukeb_manager').value=="")
				{
					$("#city_name_mukeb_manager").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#city_name_mukeb_manager").removeClass("required_but_empty");
				
				if(document.getElementById('Address').value=="")
				{
					$("#Address").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Address").removeClass("required_but_empty");
					
				if(document.getElementById('Phone_number_1').value=="")
				{
					$("#Phone_number_1").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Phone_number_1").removeClass("required_but_empty");
					
				if(document.getElementById('Mukeb_id').value=="")
				{
					$("#Mukeb_id").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Mukeb_id").removeClass("required_but_empty");
					
				if(document.getElementById('Mukeb_type').value=="")
				{
					$("#Mukeb_type").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Mukeb_type").removeClass("required_but_empty");

				if(document.getElementById('Mukeb_state').value=="")
				{
					$("#Mukeb_state").addClass("required_but_empty");
					has_error = true;
				}
				else
					$("#Mukeb_state").removeClass("required_but_empty");

				if(has_error)
				{
					ons.notification.alert(multilang.get("Please_fill_the_required_fields"));
					return false;
				}
				
				params.Phone_number_3			= document.getElementById('Phone_number_3').value;
				params.Mukeb_state				= document.getElementById('Mukeb_state').value;
				params.Mukeb_type				= document.getElementById('Mukeb_type').value;
				params.Mukeb_id					= document.getElementById('Mukeb_id').value;
				
				
				params.Mukeb_Name				= document.getElementById('Mukeb_Name').value;
				params.Man_capacity				= document.getElementById('Man_capacity').value;
				params.Woman_capacity			= document.getElementById('Woman_capacity').value;
				
				params.city_name				= document.getElementById('city_name_mukeb_manager').value;//window.localStorage.getItem('city_name');
				params.Pillar_Number			= document.getElementById('Pillar_Number').value;
				params.Address					= document.getElementById('Address').value;
				params.Description				= document.getElementById('Description').value;
				
				params.Phone_number_1			= document.getElementById('Phone_number_1').value;
				params.Phone_number_2			= document.getElementById('Phone_number_2').value;
				params.Telegram_ID				= document.getElementById('Telegram_ID').value;
				params.WhatsApp_ID				= document.getElementById('WhatsApp_ID').value;
				params.Line_ID					= document.getElementById('Line_ID').value;
				params.Imo_ID					= document.getElementById('Imo_ID').value;
				
				if(document.getElementById('Food').checked)
					params.Food					= 1;
				else
					params.Food					= 0;
					
				if(document.getElementById('Blanket').checked)
					params.Blanket				= 1;
				else
					params.Blanket				= 0;
					
				if(document.getElementById('Internet').checked)
					params.Internet				= 1;
				else
					params.Internet				= 0;
					
				if(document.getElementById('WC').checked)
					params.WC					= 1;
				else
					params.WC					= 0;
					
				if(document.getElementById('Washing_Machine').checked)
					params.Washing_Machine		= 1;
				else
					params.Washing_Machine		= 0;
					
				if(document.getElementById('Bathroom').checked)
					params.Bathroom				= 1;
				else
					params.Bathroom				= 0;					
				
				params.udid						= window.localStorage.getItem('udid');			
				params.token					= encrypt_by_date(window.localStorage.getItem('token'));
				params.token2					= window.localStorage.getItem('token');
				params.language					= window.localStorage.getItem('language');
				params.act						= "edit_mukeb_data";
				//return console.log(params);

				show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							try {
								json = $.parseJSON(text);
								
								if(json.answer=="bad_data")
								{
									ons.notification.alert(multilang.get("bad_data"));
								}
								else if(json.answer=="Login_tere_is_not_any_account")
								{
									LogOut_and_notif();
								}
								else if(json.answer=="saved")
								{
									ons.notification.alert(multilang.get("Your_Data_Submited_Successfully"));
									//console.log(json.token);
									//console.log(json.mukeb_data);
									
									window.localStorage.setItem('token',json.token);
									window.localStorage.setItem('last_login_result',text);
									window.localStorage.setItem('capacity_woman',json.mukeb_data.capacity_woman);
									window.localStorage.setItem('capacity_man',json.mukeb_data.capacity_man);
									window.sessionStorage.setItem('he_is_logined',"true");
									
									
									//console.log("*******************************************");
									//console.log("*******************************************");
									//console.log("*******************************************");
									//console.log(myNavigator.pages.length-1);
									//console.log(myNavigator.pages);
									//var temp_index = myNavigator.pages.length-1;
									//myNavigator.removePage(temp_index);

									document.querySelector('#myNavigator').pushPage('mukeb_manager_menu.html', {animation: "reversedSlide",animationOptions:{delay: 0.4} });
								}
								else
								{
									$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:3</span>');
									modal.show({animation: "fade"});
									setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
								}
							} catch (e) {
								$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:5</span>');
								modal.show({animation: "fade"});
								setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							}
							hideDialog('dialog_progress_bar');
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						},
				});
			}
		}
		function mukeb_manager_update_images(){
			var text = window.localStorage.getItem('last_login_result');
			try {
				var json = $.parseJSON(text);
				var i;
				var small_images = json.mukeb_images_small;
				var id_images	 = json.mukeb_images_id;
				var images_place_holder = $("#images_place_holder");
				images_place_holder.html("");
				for (i = 0; i < small_images.length; ++i) {
					//console.log(small_images[i]);
					images_place_holder.append('<div id="' + id_images[i] + '"><img src="' + small_images[i] + '" ></div>');
				}
				$('#images_place_holder div').click( function(i) {
					removeImage_from_mukeb($(this).attr('id'));
				});
			} catch (e) {
				console.log("NOT JSON");
			}
		}
		function mukeb_manager_load_data_to_edit_page(){
			var text = window.localStorage.getItem('last_login_result');
			try {
				var json = $.parseJSON(text);
				
				$("#Mukeb_Name input").val(json.mukeb_data.title);
				$("#Woman_capacity input").val(json.mukeb_data.capacity_woman);
				$("#Man_capacity input").val(json.mukeb_data.capacity_man);
				$("#Phone_number_1 input").val(json.mukeb_data.Phone_number_1);
				$("#Phone_number_2 input").val(json.mukeb_data.Phone_number_2);
				$("#Address input").val(json.mukeb_data.address);
				$("#Pillar_Number input").val(json.mukeb_data.amud);
				$("#Description input").val(json.mukeb_data.Description);
				
				$("#Telegram_ID input").val(json.mukeb_data.Telegram_ID);
				$("#WhatsApp_ID input").val(json.mukeb_data.WhatsApp_ID);
				$("#Line_ID input").val(json.mukeb_data.Line_ID);
				$("#Imo_ID input").val(json.mukeb_data.Imo_ID);
				
				$("#Mukeb_id input").val(json.mukeb_data.mukeb_id);
				$("#Phone_number_3 input").val(json.mukeb_data.Phone_number_3);
				$("#Mukeb_state input").val(json.mukeb_data.Mukeb_state);
				
				if(json.mukeb_data.food=="1")
					$('#Food').prop('checked', true);
				if(json.mukeb_data.blanket=="1")
					$('#Blanket').prop('checked', true);
				if(json.mukeb_data.internet=="1")
					$('#Internet').prop('checked', true);
				if(json.mukeb_data.wc=="1")
					$('#WC').prop('checked', true);
				if(json.mukeb_data.washing_machine=="1")
					$('#Washing_Machine').prop('checked', true);
				if(json.mukeb_data.bathroom=="1")
					$('#Bathroom').prop('checked', true);

				$("#city_name_mukeb_manager select").val(json.mukeb_data.city_name);
				if(json.mukeb_data.city_name!="")
				{
					$("#city_name_mukeb_manager select").addClass("selected");
				}
				else if(window.localStorage.getItem('city_name')!=null)
				{
					$("#city_name_mukeb_manager select").val(window.localStorage.getItem('city_name'));
					$("#city_name_mukeb_manager select").addClass("selected");
				}
				
				
				$("#Mukeb_type select").val(json.mukeb_data.type);
				if(json.mukeb_data.type!="")
				{
					$("#Mukeb_type select").addClass("selected");
				}
				else if(window.localStorage.getItem('type')!=null)
				{
					$("#Mukeb_type select").val(window.localStorage.getItem('type'));
					$("#Mukeb_type select").addClass("selected");
				}
				
				var i;
				var small_images = json.mukeb_images_small;
				var id_images	 = json.mukeb_images_id;
				var images_place_holder = $("#images_place_holder");
				images_place_holder.html("");
				for (i = 0; i < small_images.length; ++i) {
					//console.log(small_images[i]);
					images_place_holder.append('<div id="' + id_images[i] + '"><img src="' + small_images[i] + '" ></div>');
				}
				$('#images_place_holder div').click( function(i) {
					removeImage_from_mukeb($(this).attr('id'));
				});
				
				
				$("#Phone_number_1 input").attr("disabled","disabled");
				if(json.mukeb_data.confirmed==1)
				{
					$("#Mukeb_id input").attr("disabled","disabled");
					$("#Mukeb_state input").attr("disabled","disabled");
					$("#Mukeb_Name input").attr("disabled","disabled");
				}

			} catch (e) {
				//LogOut();
				console.log("NOT JSON");
			}
		
		}
		function removeImage_from_mukeb(id_number){
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					multilang.get('you_must_connect_to_the_internet'),  // message
					alertDismissed,		 // callback
					multilang.get('warning'),			// title
					multilang.get('ok')		// buttonName
				);
			}
			else{
				var params = {};

				params.id_number				= id_number;			
				params.udid						= window.localStorage.getItem('udid');			
				params.token					= encrypt_by_date(window.localStorage.getItem('token'));
				params.token2					= window.localStorage.getItem('token');
				params.id						= window.localStorage.getItem('id_number');
				params.act						= "remove_image_from_mukeb";
				//return console.log(params);

				show_progress_bar("without_cancel_btn");
				
				$.ajax({
						url: server_url,
						type: "POST",
						data: params,
						//async: true,
						success : function(text)
						{
							try {
								json = $.parseJSON(text);
								
								if(json.answer=="Login_tere_is_not_any_account")
								{
									LogOut_and_notif();
								}
								else if(json.answer=="removed")
								{
									$('#images_place_holder div#' + id_number).css("display","none");
									window.localStorage.setItem('token',json.token);
									window.localStorage.setItem('last_login_result',text);
									window.localStorage.setItem('capacity_woman',json.mukeb_data.capacity_woman);
									window.localStorage.setItem('capacity_man',json.mukeb_data.capacity_man);
									window.sessionStorage.setItem('he_is_logined',"true");
								}
								else
								{
									$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:3</span>');
									modal.show({animation: "fade"});
									setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
								}
							} catch (e) {
								$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:5</span>');
								modal.show({animation: "fade"});
								setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							}
							hideDialog('dialog_progress_bar');
						},
						error: function(jqXHR, exception) {
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
							hideDialog('dialog_progress_bar');
						},
				});
			}
		}
		function go_back_from_missing_object_data_entry(){
			if(window.sessionStorage.getItem("goto_missing_objects_from")=="zaer")
			{
				window.sessionStorage.removeItem("goto_missing_objects_from");
				document.querySelector('#myNavigator').pushPage('zaer_services.html', {animation: "reversedSlide",animationOptions:{delay: 0.4} });
			}
			else if(window.sessionStorage.getItem("goto_missing_objects_from")=="mukeb")
			{
				window.sessionStorage.removeItem("goto_missing_objects_from");
				document.querySelector('#myNavigator').pushPage('mukeb_manager_menu.html', {animation: "reversedSlide",animationOptions:{delay: 0.4} });
			}
			else
			{
				window.sessionStorage.removeItem("goto_missing_objects_from");
				document.querySelector('#myNavigator').pushPage('zaer_services.html', {animation: "reversedSlide",animationOptions:{delay: 0.4} });
			}
		}
		function show_category_list(){
			console.log("show_category_list()");
			app.showFromObject2();
		}
		function update_maybe_this_list(){
			console.log("update_maybe_this_list()");
			if(window.localStorage.getItem("maybe_this")==null)
			{
				var card_template = "";
				card_template="<ons-card><div class='title'>" + multilang.get("Nothing_Found") + "</div></ons-card>";
				$("#zaer_service_I_Lost_Something_favorite_container").html(card_template);
				return true;
			}
			json = $.parseJSON(window.localStorage.getItem("maybe_this"));
			var card_template = "";
			for (i = 0; i < json.length; ++i) {
				text = json[i];
				card_template += '<ons-card>';
				card_template += '<img src="' + (text.images==""? "images/no-image2.png" : server_url_image + '400x200-' + text.images + '?parameters=@width=600@height=300@cropratio=true@quality=85@image=/uploads_found/' + text.images) + '" alt="" style="width: 100%;border: 1px solid #c2c2c2;border-radius: 5px;box-sizing: border-box;">';
				card_template += '<div class="title">' + text.Name_of_the_device + '</div>';
				card_template += '<div class="content">';
				
				card_template += '<ons-list>';
				card_template += '<ons-list-header>' + multilang.get("Finding_Location") + '</ons-list-header>';
				if(text.City_Name!="")
				card_template += '<ons-list-item>' + multilang.get("City_Name") + " : " + city_name_list[text.City_Name] + '</ons-list-item>';
				if(text.Pillar_Number!="")
				card_template += '<ons-list-item>' + multilang.get("Pillar_Number") + " : " + text.Pillar_Number + '</ons-list-item>';
				if(text.Tent_Name!="")
				card_template += '<ons-list-item>' + multilang.get("Tent_Name") + " : " + text.Tent_Name + '</ons-list-item>';
				card_template += '</ons-list>';
				
				card_template += '<ons-list>';
				card_template += '<ons-list-header>' + multilang.get("Contacts_Info") + '</ons-list-header>';
				if(text.Phone_number!="")
				card_template += '<ons-list-item>' + multilang.get("Phone_number") + " : " + text.Phone_number + '</ons-list-item>';
				if(text.Telegram_ID!="")
				card_template += '<ons-list-item>' + multilang.get("Telegram_ID") + " : " + text.Telegram_ID + '</ons-list-item>';
				if(text.WhatsApp_ID!="")
				card_template += '<ons-list-item>' + multilang.get("WhatsApp_ID") + " : " + text.WhatsApp_ID + '</ons-list-item>';
				if(text.Line_ID!="")
				card_template += '<ons-list-item>' + multilang.get("Line_ID") + " : " + text.Line_ID + '</ons-list-item>';
				if(text.Imo_ID!="")
				card_template += '<ons-list-item>' + multilang.get("Imo_ID") + " : " + text.Imo_ID + '</ons-list-item>';
				card_template += '</ons-list>';
				
				if(text.description!="")
				{
				card_template += '<div>';
				card_template += '<ons-list-header>' + multilang.get("Description") + '</ons-list-header>';
				card_template += '<ons-list-item>' + text.description + '</ons-list-item>';
				card_template += '</div>';
				}
				
				card_template += '</div>';
				card_template += '</ons-card>';
			}
			if(card_template=="")
				card_template="<ons-card><div class='title'>" + multilang.get("Nothing_Found") + "</div></ons-card>";
			$("#zaer_service_I_Lost_Something_favorite_container").html(card_template);
		}
		function add_to_maybe_this(text){
			console.log("add_to_maybe_this()");
			//console.log(text);
			if(window.localStorage.getItem("maybe_this")!=null)
				json = $.parseJSON(window.localStorage.getItem("maybe_this"));
			else
				json = [];
			//console.log(json);
			text = $.parseJSON(text);
			json.push(text);
			text = JSON.stringify(json);
			window.localStorage.setItem("maybe_this",text);
			update_maybe_this_list();
		}
		function goto_one_news_page(id){
			console.log("goto_one_news_page()");
			news_id = id;
			document.querySelector('#myNavigator').pushPage('news_page.html', {animation: "slid",animationOptions:{delay: 0.4} });
		}
		function check_net_for_map_and_recommend_download(){
				if(window.localStorage.getItem('download_localPath')!=null)
					eval(window.localStorage.getItem("command"));
				else
				{
					networkState = navigator.connection.type;
					if (networkState == Connection.NONE) {
						navigator.notification.alert(
							multilang.get('you_must_connect_to_the_internet'),  // message
							alertDismissed,		 // callback
							multilang.get('warning'),			// title
							multilang.get('ok')		// buttonName
						);
						return false;
					}
					else{
						function onConfirm_download_map(buttonIndex) {
							//alert(buttonIndex);
							if(buttonIndex==1)
							{
								window.location.href = "download.html";
							}
							else
							{
								//alert(window.localStorage.getItem("command"));
								eval(window.localStorage.getItem("command"));
							}
							return true;
						}
						function show_map_download_Confirm() {
							navigator.notification.confirm(
								multilang.get("Download_offline_map"),		// message
								onConfirm_download_map,     				// callback to invoke with index of button pressed
								multilang.get("notice"),					// title
								'Download,Later'							// buttonLabels
							);
						}
						show_map_download_Confirm();
						return true;
					}
				}
		}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
		server_url_main			= "http://camsechussain.com/";
		map_server_url			= "http://imamali.net/app-json/map/";
		server_url				= server_url_main + "check_net.php";
		server_url_missing_data	= server_url_main + "submit_found_object.php";
		server_url_mukeb_image	= server_url_main + "submit_mekeb_image.php";
		server_url_image		= server_url_main + "image.php/";
		window.localStorage.setItem("server_url_image",server_url_image);
		window.localStorage.setItem("server_url_main",server_url_main);
		window.localStorage.setItem("map_server_url",map_server_url);
		does_we_ready_target_page = false;
			
		//ons.platform.select('android');
		ons.platform.select('ios');
		//ons.forcePlatformStyling('ios');
		ons.disableAutoStatusBarFill();
		ons.disableAutoStyling();
			
		ons.ready(function(){
			if(getParameterByName('target_page')=="")
			{
				setTimeout(function(){
					$("#mypreload").css("display","none");
				}, 500);
			}
			
			if(window.cordova)
			{
				if(window.localStorage.getItem('language') != null)
				{
					setTimeout(function(){
						set_body_language();
						document.querySelector('#myNavigator').pushPage('select_user_type.html', {animation: "none" });
					}, 500);
					setTimeout(function(){
						navigator.splashscreen.hide();
					}, 900);
				}
				else
					navigator.splashscreen.hide();
			}
			
			/*
			*/
			if(window.sessionStorage.getItem('he_is_logined') != "true")
				auto_login();
			window.setInterval(function(){
				if(window.sessionStorage.getItem('he_is_logined') != "true")
					auto_login();
			}, 1000);
			
			if(window.sessionStorage.getItem('map_array_ar') == null)
				get_all_data();
				
			setTimeout(function(){
				window.setInterval(function(){
					if(window.sessionStorage.getItem('map_array_ar') == null)
						get_all_data();
				}, 4000);
			}, 4000);

			setTimeout(function(){
				if(window.localStorage.getItem('last_valid_version')!=null)
				{
					if(version < window.localStorage.getItem('last_valid_version'))
					{
						get_all_data();
						document.querySelector('#myNavigator').pushPage('update_link.html', {animation: "lift",animationOptions:{delay: 0.4} });
					}
				}
			}, 900);
		});
		
		document.addEventListener('prechange', function(event) {
			//console.log(event);
			var page = event.target;
			current_page = page;
			
			if(event.tabItem.getAttribute('label')=="filter")
			{
				document.querySelector('ons-toolbar .center').innerHTML = multilang.get("filter");
				//$(document.querySelector('ons-toolbar .center')).onclick
				document.querySelector('ons-toolbar .center').onclick = function() {
					show_category_list();
				};
			}
			else
			{
				document.querySelector('ons-toolbar .center').innerHTML = multilang.get(event.tabItem.getAttribute('label'));
				document.querySelector('ons-toolbar .center').onclick = function() {
					
				};
			}
		});

		document.addEventListener('init', function(event) {
			//console.log("document.addEventListener init");
			//StatusBar.hide;
			var page = event.target;
			current_page = page;
			
			modal = document.querySelector('ons-modal');
			
			if(does_we_ready_target_page == false && getParameterByName('target_page')!="")
			{
				//alert("come from : " + getParameterByName('target_page'));
				console.log("we have target_page");
				//http://localhost:55769/index.html?target_page=register_mukeb.html
				setTimeout(function(){
					//alert("a1 : " + getParameterByName('target_page'));
					document.querySelector('#myNavigator').bringPageTop(getParameterByName('target_page'), {animation: "none"});
					//alert("a2 : " + getParameterByName('target_page'));
				}, 400);
				setTimeout(function(){
					$("#mypreload").css("display","none");
				}, 900);
				//alert("come from : " + getParameterByName('target_page'));
				does_we_ready_target_page = true;
			}
			//////////////////////////////////////////////////////////////////////////////////////////
			//////////////////////////////////////////////////////////////////////////////////////////
			//////////////////////////////////////////////////////////////////////////////////////////
			//مدیریت منوی همبرگری
			window.fn = {};

			window.fn.open = function() {
				var menu = document.getElementById('menu');
				menu.open();
			};

			window.fn.load = function(page, data) {
				var content = document.getElementById('myNavigator');
				var menu = document.getElementById('menu');
				content.pushPage(page, data)
					.then(menu.close.bind(menu));
			};

			window.fn.pop = function() {
				var content = document.getElementById('myNavigator');
				content.popPage();
			};
			
			//////////////////////////////////////////////////////////////////////////////////////////
			//////////////////////////////////////////////////////////////////////////////////////////
			//////////////////////////////////////////////////////////////////////////////////////////

			if (page.id === 'home')
			{
					check_retina();
					//auto_login();
					console.log('SMGROUP ::::::::::::::::::::::::::::::::::::	start home()');
					page.querySelector('#goto_page_language_ar').onclick = function() {
						lang = lang_ar;
						text_direction = "arabic_text";
						set_body_language();
						window.localStorage.setItem('language',"lang_ar");
						window.localStorage.setItem('text_direction',text_direction);
						document.querySelector('#myNavigator').pushPage('select_user_type.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
					page.querySelector('#goto_page_language_en').onclick = function() {
						lang = lang_en;
						text_direction = "english_text";
						set_body_language();
						window.localStorage.setItem('language',"lang_en");
						window.localStorage.setItem('text_direction',text_direction);
						document.querySelector('#myNavigator').pushPage('select_user_type.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
					page.querySelector('#goto_page_language_fa').onclick = function() {
						lang = lang_fa;
						text_direction = "persian_text";
						set_body_language();
						window.localStorage.setItem('language',"lang_fa");
						window.localStorage.setItem('text_direction',text_direction);
						document.querySelector('#myNavigator').pushPage('select_user_type.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
			}
			else if (page.id === 'select_user_type')
			{
					check_retina();
					need_translate();
					auto_login();
					
					page.querySelector('#goto_page_user_type_zaer').onclick = function() {
						document.querySelector('#myNavigator').pushPage('zaer_services.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
					page.querySelector('#goto_page_user_type_mukeb').onclick = function() {
						networkState = navigator.connection.type;
						if (networkState == Connection.NONE) {
							navigator.notification.alert(
								multilang.get('you_must_connect_to_the_internet'),  // message
								alertDismissed,		 // callback
								multilang.get('warning'),			// title
								multilang.get('ok')		// buttonName
							);
						}
						else{
							//if(window.sessionStorage.getItem('he_is_logined') == "true")
							if(window.localStorage.getItem('token') != null)
							{
								if(window.localStorage.getItem('capacity_man')=="null" && window.localStorage.getItem('capacity_woman')=="null")
									document.querySelector('#myNavigator').pushPage('edit_mukeb_data.html', {animation: "slid",animationOptions:{delay: 0.4} });
								else
									document.querySelector('#myNavigator').pushPage('mukeb_manager_menu.html', {animation: "slid",animationOptions:{delay: 0.4} });
							}
							else
								document.querySelector('#myNavigator').pushPage('register_mukeb.html', {animation: "slid",animationOptions:{delay: 0.4} });
						}
					};
			}
			else if (page.id === 'contact_support')
			{
					check_retina();
					need_translate();
					
					if(window.localStorage.getItem('contact_support_text_fa') != null && window.localStorage.getItem('language') == "lang_fa")
						arr = window.localStorage.getItem('contact_support_text_fa');
					else if(window.localStorage.getItem('contact_support_text_en') != null && window.localStorage.getItem('language') == "lang_en")
						arr = window.localStorage.getItem('contact_support_text_en');
					else if(window.localStorage.getItem('contact_support_text_ar') != null)
						arr = window.localStorage.getItem('contact_support_text_ar');
					console.log(arr);
					$(".contact_support_text article").html(arr);
			}
			else if (page.id === 'update_link')
			{
					check_retina();
					need_translate();
					

					//$("").html(arr);
					page.querySelector('.click_here_to_update').onclick = function() {
						window.open(window.localStorage.getItem('update_link'), '_system', 'location=yes');
					};
			}
			else if (page.id === 'zaer_services')
			{
					setTimeout(function(){
						if(window.sessionStorage.getItem("zaer_service_I_Found_Something_data_entry_index_number")!=null)
						{
							console.log("deeeeeeeeeeeeeelete");
							//console.log(window.sessionStorage.getItem("zaer_service_I_Found_Something_data_entry_index_number"));
							myNavigator.removePage(window.sessionStorage.getItem("zaer_service_I_Found_Something_data_entry_index_number"));
							window.sessionStorage.removeItem("zaer_service_I_Found_Something_data_entry_index_number");
						}
					}, 350);

					check_retina();
					need_translate();
					
					
					var temp_div		= $("#main_div_zaer_services");
					var tempH			= $("#menu_zaer_services").height();
					//temp_div.css("margin-top",(winH-tempH-50)/2);
					temp_div_css	= $("#main_div_zaer_services_css_placeholder");
					temp_div_css.html("<style>#main_div_zaer_services{margin-top:" + (winH-tempH-100)/2 + "px !important}.select_service_type_btn{height: " + (tempH/4) + "px;}</style>");
					
					setTimeout(function(){
						tempH		= $("#menu_zaer_services").height();
						//temp_div.css("margin-top",(winH-tempH-50)/2);
						temp_div_css.html("<style>#main_div_zaer_services{margin-top:" + (winH-tempH-100)/2 + "px !important}.select_service_type_btn{height: " + (tempH/4) + "px;}</style>");
						//console.log("tempH:" + tempH);
					}, 350);
					
					setTimeout(function(){
						tempH		= $("#menu_zaer_services").height();
						//temp_div.css("margin-top",(winH-tempH-50)/2);
						temp_div_css.html("<style>#main_div_zaer_services{margin-top:" + (winH-tempH-100)/2 + "px !important}.select_service_type_btn{height: " + (tempH/4) + "px;}</style>");
						//console.log("tempH:" + tempH);
					}, 650);
					
					

					page.querySelector('#goto_page_zaer_service_map').onclick = function() {
						document.querySelector('#myNavigator').pushPage('zaer_service_map.html', {animation: "slid",animationOptions:{delay: 0.4} });
						/*
						navigator.notification.alert(
							multilang.get('Will_be_active_in_the_next_version'),  // message
							alertDismissed,		 // callback
							multilang.get('notice'),			// title
							multilang.get('ok')		// buttonName
						);
						*/
					};
					page.querySelector('#goto_page_zaer_service_map_mavakeb').onclick = function() {
						document.querySelector('#myNavigator').pushPage('zaer_service_map_mavakeb.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
					page.querySelector('#goto_page_zaer_service_missing_objects').onclick = function() {
						document.querySelector('#myNavigator').pushPage('zaer_service_missing_objects.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
					/*
					page.querySelector('#goto_page_zaer_service_weather').onclick = function() {
						navigator.notification.alert(
							multilang.get('Will_be_active_in_the_next_version'),  // message
							alertDismissed,		 // callback
							multilang.get('notice'),			// title
							multilang.get('ok')		// buttonName
						);
					};
					*/
					page.querySelector('#goto_page_zaer_service_news').onclick = function() {
						document.querySelector('#myNavigator').pushPage('news_list.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
			}
			else if (page.id === 'zaer_service_map_mavakeb')
			{
					check_retina();
					need_translate();
					
					var temp_div		= $("#main_div_mukeb_map_menu");
					var tempH			= $("#mukeb_map_menu_image").height();
					temp_div_css		= $("#main_div_mukeb_map_menu_css_placeholder");
					//temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:" + (winH-tempH-50)/2 + "px !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
					temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:20% !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
					
					setTimeout(function(){
						tempH		= $("#mukeb_map_menu_image").height();
						//temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:" + (winH-tempH-50)/2 + "px !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
						temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:20% !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
					}, 350);
					
					setTimeout(function(){
						tempH		= $("#mukeb_map_menu_image").height();
						//temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:" + (winH-tempH-50)/2 + "px !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
						temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:20% !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
					}, 650);

					page.querySelector('#goto_page_mukeb_map_najaf').onclick = function() {
						var command = "";
						command +='window.sessionStorage.setItem("come_from_which_page","zaer_service_map_mavakeb");';
						command +='window.location.href = "map_najaf-online-fuze.html?show_mukeb=yes&show_amud=no&zoom=14";';
						window.localStorage.setItem("command",command);
						
						if(check_net_for_map_and_recommend_download()==false)
							return false;
					};
					page.querySelector('#goto_page_mukeb_map_karbala').onclick = function() {
						var command = "";
						command +='window.sessionStorage.setItem("come_from_which_page","zaer_service_map_mavakeb");';
						command +='window.location.href = "map_najaf-online-fuze.html?lat=32.6073&long=44.0115&zoom=14&show_mukeb=yes&show_amud=no";';
						window.localStorage.setItem("command",command);
						
						if(check_net_for_map_and_recommend_download()==false)
							return false;
					};
					page.querySelector('#goto_page_mukeb_map_kazemein').onclick = function() {
						var command = "";
						command +='window.sessionStorage.setItem("come_from_which_page","zaer_service_map_mavakeb");';
						command +='window.location.href = "map_najaf-online-fuze.html?lat=33.3802&long=44.33819&zoom=13&show_mukeb=yes&show_amud=no";';
						window.localStorage.setItem("command",command);
						
						if(check_net_for_map_and_recommend_download()==false)
							return false;
					};
					page.querySelector('#goto_page_mukeb_map_from_najaf_to_karbala').onclick = function() {
						var command = "";
						command +='window.sessionStorage.setItem("come_from_which_page","zaer_service_map_mavakeb");';
						command +='window.location.href = "map_najaf-online-fuze.html?lat=32.6073&long=44.0115&zoom=11&show_mukeb=yes&show_amud=yes";';
						window.localStorage.setItem("command",command);
						
						if(check_net_for_map_and_recommend_download()==false)
							return false;	
					};
			}
			else if (page.id === 'zaer_service_map')
			{
					check_retina();
					need_translate();
					
					var temp_div		= $("#main_div_mukeb_map_menu");
					var tempH			= $("#mukeb_map_menu_image").height();
					temp_div_css		= $("#main_div_mukeb_map_menu_css_placeholder");
					//temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:" + (winH-tempH-50)/2 + "px !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
					temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:20% !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
					
					setTimeout(function(){
						tempH		= $("#mukeb_map_menu_image").height();
						//temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:" + (winH-tempH-50)/2 + "px !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
						temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:20% !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
					}, 350);
					
					setTimeout(function(){
						tempH		= $("#mukeb_map_menu_image").height();
						//temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:" + (winH-tempH-50)/2 + "px !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
						temp_div_css.html("<style>#main_div_mukeb_map_menu{margin-top:20% !important}.select_mukeb_map_type_btn{height: " + (tempH/4) + "px;}</style>");
					}, 650);

					page.querySelector('#goto_page_mukeb_map_najaf').onclick = function() {
						var command = "";
						command += 'window.sessionStorage.setItem("come_from_which_page","zaer_service_map");';
						command +='window.location.href = "map_najaf-online-fuze.html?show_mukeb=no&show_amud=no&zoom=14";';
						window.localStorage.setItem("command",command);
						
						if(check_net_for_map_and_recommend_download()==false)
							return false;	
					};
					page.querySelector('#goto_page_mukeb_map_karbala').onclick = function() {
						var command = "";
						command +='window.sessionStorage.setItem("come_from_which_page","zaer_service_map");';
						command +='window.location.href = "map_najaf-online-fuze.html?lat=32.6073&long=44.0115&zoom=14&show_mukeb=no&show_amud=no";';
						window.localStorage.setItem("command",command);
						
						if(check_net_for_map_and_recommend_download()==false)
							return false;	
					};
					page.querySelector('#goto_page_mukeb_map_kazemein').onclick = function() {
						var command = "";
						command +='window.sessionStorage.setItem("come_from_which_page","zaer_service_map");';
						command +='window.location.href = "map_najaf-online-fuze.html?lat=33.3802&long=44.33819&zoom=13&show_mukeb=no&show_amud=no";';
						window.localStorage.setItem("command",command);
						
						if(check_net_for_map_and_recommend_download()==false)
							return false;
					};
					page.querySelector('#goto_page_mukeb_map_from_najaf_to_karbala').onclick = function() {
						var command = "";
						command +='window.sessionStorage.setItem("come_from_which_page","zaer_service_map");';
						command +='window.location.href = "map_najaf-online-fuze.html?lat=32.6073&long=44.0115&zoom=11&show_mukeb=no&show_amud=yes";';
						window.localStorage.setItem("command",command);
						
						if(check_net_for_map_and_recommend_download()==false)
							return false;	
					};
			}
			else if (page.id === 'zaer_service_missing_objects')
			{
					check_retina();
					need_translate();
					
					setTimeout(function(){
						tempH			= $("#zaer_service_missing_objects_menu_image").height();
						temp_div_css	= $("#zaer_service_missing_objects_menu_css_placeholder");
						temp_div_css.html("<style>#zaer_service_missing_objects_menu{margin-top:" + (winH-tempH-100)/2 + "px !important}.zaer_service_missing_objects_btn{height: " + (tempH/2) + "px;}</style>");
					}, 300);
					
					setTimeout(function(){
						tempH			= $("#zaer_service_missing_objects_menu_image").height();
						temp_div_css	= $("#zaer_service_missing_objects_menu_css_placeholder");
						temp_div_css.html("<style>#zaer_service_missing_objects_menu{margin-top:" + (winH-tempH-100)/2 + "px !important}.zaer_service_missing_objects_btn{height: " + (tempH/2) + "px;}</style>");
					}, 600);
					/*
					setTimeout(function(){
						tempH			= $("#zaer_service_missing_objects_menu_image").height();
						temp_div_css	= $("#zaer_service_missing_objects_menu_css_placeholder");
						temp_div_css.html("<style>#zaer_service_missing_objects_menu{margin-top:" + (winH-tempH-50)/2 + "px !important}.zaer_service_missing_objects_btn{height: " + (tempH/2) + "px;}</style>");
					}, 350);
					*/
					
					page.querySelector('#goto_page_zaer_service_missing_objects_lost').onclick = function() {
						var networkState = navigator.connection.type;
						if (networkState == Connection.NONE)
							need_internet();
						else
							document.querySelector('#myNavigator').pushPage('zaer_service_I_Lost_Something.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
					page.querySelector('#goto_page_zaer_service_missing_objects_found').onclick = function() {
						var networkState = navigator.connection.type;
						if (networkState == Connection.NONE)
							need_internet();
						else
							document.querySelector('#myNavigator').pushPage('zaer_service_I_Found_Something.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
			}
			else if (page.id === 'zaer_service_I_Found_Something')
			{
					check_retina();
					need_translate();

					page.querySelector('#goto_page_zaer_service_missing_objects_found_submit_data').onclick = function() {
						window.sessionStorage.setItem("goto_missing_objects_from","zaer");
						document.querySelector('#myNavigator').pushPage('zaer_service_I_Found_Something_data_entry.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
			}
			else if (page.id === 'zaer_service_I_Found_Something_data_entry')
			{
					setTimeout(function(){
						//console.log("*******************************************");
						//console.log("*******************************************");
						//console.log("*******************************************");
						//console.log(myNavigator.pages.length-1);
						//console.log(myNavigator.pages);
						window.sessionStorage.setItem("zaer_service_I_Found_Something_data_entry_index_number",(myNavigator.pages.length-1));
					}, 350);
					check_retina();
					need_translate();
					
					window.sessionStorage.removeItem('send_image_path');
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					app = {};
					var	buttons = [
							multilang.get("Passport_and_identification_documents"),
							multilang.get("Clothing"),
							multilang.get("Money"),
							multilang.get("Watch"),
							multilang.get("Ring"),
							multilang.get("Jewelry"),
							multilang.get("Others"),
							multilang.get("Cancel"),
						];

					app.showFromObject = function () {
						ons.openActionSheet({
							title: multilang.get("Select_a_category"),
							cancelable: true,
							buttons: [
								multilang.get("Passport_and_identification_documents"),
								multilang.get("Clothing"),
								multilang.get("Money"),
								multilang.get("Watch"),
								multilang.get("Ring"),
								multilang.get("Jewelry"),
								multilang.get("Others"),
								{
									label: multilang.get("Cancel"),
									icon: 'md-close'
								}
							]
						}).then(function (index) {
							console.log('index: ', index);
							console.log(buttons[index]);
							if(index != -1 && index != 7)
							{
								//$("#Select_a_category").find("input").val(buttons[index]);
								//document.getElementById('Select_a_category').value = buttons[index];
								//document.getElementById('Select_a_category_id').value = index;
								$("#Select_a_category input").val(buttons[index]);
								$("#Select_a_category_id input").val(index);
							}
						})
					};
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////


					page.querySelector('#goto_page_zaer_service_missing_objects_found_submit_data').onclick = function()
					{
						var has_error = false;
						if(document.getElementById('Name_of_the_device').value=="")
						{
							$("#Name_of_the_device").addClass("required_but_empty");
							has_error = true;
						}
						else
							$("#Name_of_the_device").removeClass("required_but_empty");
						if(document.getElementById('Select_a_category').value=="")
						{
							$("#Select_a_category").addClass("required_but_empty");
							has_error = true;
						}
						else
							$("#Select_a_category").removeClass("required_but_empty");
						if(document.getElementById('Finding_Location').value=="")
						{
							$("#Finding_Location").addClass("required_but_empty");
							has_error = true;
						}
						else
							$("#Finding_Location").removeClass("required_but_empty");
						if(document.getElementById('Contacts_Info').value=="")
						{
							$("#Contacts_Info").addClass("required_but_empty");
							has_error = true;
						}
						else
							$("#Contacts_Info").removeClass("required_but_empty");
						if(document.getElementById('Description').value=="")
						{
							$("#Description").addClass("required_but_empty");
							has_error = true;
						}
						else
							$("#Description").removeClass("required_but_empty");
						if(has_error)
						{
							ons.notification.alert(multilang.get("Please_fill_the_required_fields"));
							return false;
						}

						if(window.sessionStorage.getItem('send_image_path')==null)
						{
							show_progress_bar("without_cancel_btn");
							submit_missing_data_by_ajax();
						}
						else
						{
							show_progress_bar("with_cancel_btn");
							submit_missing_data_by_image();
						}
						//document.querySelector('#myNavigator').pushPage('zaer_service_I_Found_Something_data_entry.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
			}
			else if (page.id === 'register_mukeb')
			{
					check_retina();
					need_translate();
					center_the_box_vertical(100);
					
					//if(window.sessionStorage.getItem('he_is_logined') == "true")
					if(window.localStorage.getItem('token') != null)
					{
						if(window.localStorage.getItem('capacity_man')=="null" && window.localStorage.getItem('capacity_woman')=="null")
							document.querySelector('#myNavigator').pushPage('edit_mukeb_data.html', {animation: "slid",animationOptions:{delay: 0.4} });
						else
							document.querySelector('#myNavigator').pushPage('mukeb_manager_menu.html', {animation: "slid",animationOptions:{delay: 0.4} });
					}
					else
						auto_login("change_page");

					setTimeout(function(){
						$(".captcha_image").attr("src",server_url_main + "/captcha/captcha.php");
						$(".captcha2_image").attr("src",server_url_main + "/captcha/captcha2.php");
					}, 350);

					setTimeout(function(){
						check_retina();
						need_translate();
						
						page.querySelector('#register_mukeb_manager_submit_data').onclick = function()
						{
							submit_pre_registration();
						};
						page.querySelector('#login_mukeb_manager_submit_data').onclick = function()
						{
							submit_login();
						};
						page.querySelector('#forgot_pasword_mukeb_manager_login_btn').onclick = function()
						{
							//if($(current_page).find("#Captcha").val()=="")
							if($(current_page).find("#Captcha").val()=="")
							{
								options = {};
								options.message = multilang.get("Captcha_description");
								ons.notification.alert(options);
								return true;
							}

							
							options = {};
							options.message = multilang.get("Enter_your_mobile_number");
							options.callback = forgot_pasword_mukeb_manager_login_get_number;
							ons.notification.prompt(options);
							setTimeout(function(){
								//$(".alert-dialog-content input").focus();
								$(".alert-dialog-content input")[0].focus();
							}, 300);
							function forgot_pasword_mukeb_manager_login_get_number(event)
							{
								console.log(event);
								if(event!="" && event!=null)
								{
									window.sessionStorage.setItem('mobile_number',event);
									submit_forgot_pasword_mukeb_manager_login_send_sms(event);
								}
							}
							//document.querySelector('#myNavigator').pushPage('forgot_pasword_mukeb_manager_login.html', {animation: "slid",animationOptions:{delay: 0.4} });
						};
					}, 300);
			}
			else if (page.id === 'confirm_mukeb_manager')
			{
					check_retina();
					need_translate();
					center_the_box_vertical(44+6+49);
					page.querySelector('#register_mukeb_manager_check_sms').onclick = function()
					{
						submit_pre_registration_check_sms();
					};
					page.querySelector('#register_mukeb_manager_resend_sms').onclick = function()
					{
						submit_pre_registration_resend_sms();
					};
			}
			else if (page.id === 'forgot_pasword_mukeb_manager_login')
			{
					check_retina();
					need_translate();
					center_the_box_vertical(44+6+49);
					page.querySelector('#forgot_pasword_mukeb_manager_check_sms').onclick = function()
					{
						submit_forgot_pasword_mukeb_manager_login_check_sms();
					};
					page.querySelector('#forgot_pasword_mukeb_manager_resend_sms').onclick = function()
					{
						submit_forgot_pasword_mukeb_manager_login_resend_sms(window.sessionStorage.getItem('mobile_number'));
					};
			}
			else if (page.id === 'logined_mukeb')
			{
					check_retina();
					need_translate();
			}
			else if (page.id === 'edit_mukeb_data')
			{
					setTimeout(function(){
						//console.log("*******************************************");
						//console.log("*******************************************");
						//console.log("*******************************************");
						//console.log(myNavigator.pages.length-1);
						//console.log(myNavigator.pages);
						window.sessionStorage.setItem("edit_mukeb_data_index_number",(myNavigator.pages.length-1));
					}, 350);
					
					check_retina();
					mukeb_manager_load_data_to_edit_page();
					need_translate();
					window.sessionStorage.removeItem('send_image_path');
					//console.log(event);
					//console.log(myNavigator.getCurrentPage());
					
					setTimeout(function(){
						//mukeb_manager_load_data_to_edit_page();
					}, 1350);

					page.querySelector('#edit_mukeb_data_submit_btn').onclick = function()
					{
						edit_mukeb_data_submit();
					};
			}
			else if (page.id === 'mukeb_manager_menu')
			{			
					setTimeout(function(){
						if(window.sessionStorage.getItem("edit_mukeb_data_index_number")!=null)
						{
							console.log("deeeeeeeeeeeeeelete");
							//console.log(window.sessionStorage.getItem("edit_mukeb_data_index_number"));
							myNavigator.removePage(window.sessionStorage.getItem("edit_mukeb_data_index_number"));
							window.sessionStorage.removeItem("edit_mukeb_data_index_number");
						}
						
						if(window.sessionStorage.getItem("zaer_service_I_Found_Something_data_entry_index_number")!=null)
						{
							console.log("deeeeeeeeeeeeeelete");
							//console.log(window.sessionStorage.getItem("zaer_service_I_Found_Something_data_entry_index_number"));
							myNavigator.removePage(window.sessionStorage.getItem("zaer_service_I_Found_Something_data_entry_index_number"));
							window.sessionStorage.removeItem("zaer_service_I_Found_Something_data_entry_index_number");
						}

						if(window.localStorage.getItem('capacity_man')=="null" && window.localStorage.getItem('capacity_woman')=="null")
							document.querySelector('#myNavigator').pushPage('edit_mukeb_data.html', {animation: "slid",animationOptions:{delay: 0.4} });
					}, 350);
					
					check_retina();
					need_translate();
					
					var temp_div		= $("#main_div_mukeb_manager_menu");
					var tempH			= $("#menu_mukeb_manager_menu").height();
					//temp_div.css("margin-top",(winH-tempH-50)/2);
					temp_div_css	= $("#main_div_mukeb_manager_menu_css_placeholder");
					temp_div_css.html("<style>#main_div_mukeb_manager_menu{margin-top:" + (winH-tempH-100)/2 + "px !important} .select_mukeb_manager_service_type_btn{height: " + (tempH/4) + "px;}</style>");
					
					setTimeout(function(){
						tempH		= $("#menu_mukeb_manager_menu").height();
						//temp_div.css("margin-top",(winH-tempH-50)/2);
						temp_div_css.html("<style>#main_div_mukeb_manager_menu{margin-top:" + (winH-tempH-100)/2 + "px !important} .select_mukeb_manager_service_type_btn{height: " + (tempH/4) + "px;}</style>");
						//console.log("tempH:" + tempH);
					}, 350);
					
					setTimeout(function(){
						tempH		= $("#menu_mukeb_manager_menu").height();
						//temp_div.css("margin-top",(winH-tempH-50)/2);
						temp_div_css.html("<style>#main_div_mukeb_manager_menu{margin-top:" + (winH-tempH-100)/2 + "px !important} .select_mukeb_manager_service_type_btn{height: " + (tempH/4) + "px;}</style>");
						//console.log("tempH:" + tempH);
					}, 650);
					
					
					page.querySelector('#goto_page_mukeb_update_zaer_count').onclick = function() {
						show_get_remaining_capacity_popup();
					};
					page.querySelector('#goto_page_mukeb_found_object').onclick = function() {
						window.sessionStorage.setItem("goto_missing_objects_from","mukeb");
						document.querySelector('#myNavigator').pushPage('zaer_service_I_Found_Something_data_entry.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
					page.querySelector('#goto_page_mukeb_edit_data').onclick = function() {
						document.querySelector('#myNavigator').pushPage('edit_mukeb_data.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
					/*
					page.querySelector('#goto_page_mukeb_service_weather').onclick = function() {
						//document.querySelector('#myNavigator').pushPage('mukeb_manager_menu.html', {animation: "slid",animationOptions:{delay: 0.4} });
						navigator.notification.alert(
							multilang.get('Will_be_active_in_the_next_version'),  // message
							alertDismissed,		 // callback
							multilang.get('notice'),			// title
							multilang.get('ok')		// buttonName
						);
					};
					*/
					page.querySelector('#goto_page_mukeb_news').onclick = function() {
						document.querySelector('#myNavigator').pushPage('news_list_Mukeb.html', {animation: "slid",animationOptions:{delay: 0.4} });
					};
			}
			else if (page.id === 'zaer_service_I_Lost_Something')
			{
					check_retina();
					need_translate();

					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					app = {};
					var	buttons = [
							multilang.get("Passport_and_identification_documents"),
							multilang.get("Clothing"),
							multilang.get("Money"),
							multilang.get("Watch"),
							multilang.get("Ring"),
							multilang.get("Jewelry"),
							multilang.get("Others"),
							multilang.get("Cancel"),
						];

					app.showFromObject2 = function () {
						ons.openActionSheet({
							title: multilang.get("Select_a_category"),
							cancelable: true,
							buttons: [
								multilang.get("Passport_and_identification_documents"),
								multilang.get("Clothing"),
								multilang.get("Money"),
								multilang.get("Watch"),
								multilang.get("Ring"),
								multilang.get("Jewelry"),
								multilang.get("Others"),
								{
									label: multilang.get("Cancel_Filter"),
									icon: 'md-close'
								}
							]
						}).then(function (index) {
							console.log('index: ', index);
							console.log(buttons[index]);
							if(index != -1)
							{
								if(index == 7)
									index="";
								
								get_missing_objects_list("",index,function(json){
									//console.log("0000000000000000000000000000000000000000000000000000000");
									//console.log("0000000000000000000000000000000000000000000000000000000");
									//console.log("0000000000000000000000000000000000000000000000000000000");
									//console.log(json.list.length);
									//console.log(json.total_count);
									
									//found_list = $.merge(found_list, json.list);
									if(json.list.length==0)
									{
										fromTemplate(multilang.get("Nothing_Found"));
										return false;
									}
									found_list = json.list;
									
									if(found_list.length<json.total_count)
									{
										$("#load_more_ons_list_container").attr("onclick","loadmore_for_list('" + found_list[(found_list.length-1)].id + "','" + index + "','');");
										$("#load_more_ons_list_container").css("display","block");
									}
									else
										$("#load_more_ons_list_container").css("display","none");
									
									infiniteList.delegate = {
										createItemContent: function(i) {
											var element_template = "";
											element_template += '<ons-list-item onclick="show_card(' + i + ');"><div class="left">';
											element_template += '<img class="list-item__thumbnail" src="' + (found_list[i].images==""? "images/no-image.png" : server_url_image + '100x100-' + found_list[i].images + '?parameters=@width=100@height=100@cropratio=true@quality=85@image=/uploads_found/' + found_list[i].images) + '">';
											element_template += '</div>';
											element_template += '<div class="center">';
											element_template += '<span class="list-item__title">' + found_list[i].Name_of_the_device + '</span><span class="list-item__subtitle list-item__subtitle_middle">' + city_name_list[found_list[i].City_Name] +'</span><span class="list-item__subtitle">' + lost_category_list[found_list[i].category_id] +'</span>';
											element_template += '</div></ons-list-item>';
											return ons.createElement(element_template);
										},
										countItems: function() {
											return found_list.length;
										}
									};
									infiniteList.refresh();
								});
							}
						})
					};
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					
					setTimeout(function(){
						check_retina();
						need_translate();
						update_maybe_this_list();
						
						document.querySelector('#zaer_service_I_Lost_Something ons-toolbar .center').onclick = function() {
							show_category_list();
						};
						
						found_list = {};
						infiniteList = document.getElementById('infinite-list');
						get_missing_objects_list("","",function(json){
							//console.log("0000000000000000000000000000000000000000000000000000000");
							//console.log("0000000000000000000000000000000000000000000000000000000");
							//console.log("0000000000000000000000000000000000000000000000000000000");
							//console.log(json.list);
							//console.log(json.list.length);
							//console.log(json.total_count);
							found_list = json.list;
							if(found_list.length<json.total_count)
							{
								$("#load_more_ons_list_container").attr("onclick","loadmore_for_list('" + found_list[(found_list.length-1)].id + "','','');");
								$("#load_more_ons_list_container").css("display","block");
							}
							else
								$("#load_more_ons_list_container").css("display","none");
							//found_list = $.merge(found_list, json.list);
							
							infiniteList.delegate = {
								createItemContent: function(i) {
									var element_template = "";
									element_template += '<ons-list-item onclick="show_card(' + i + ');"><div class="left">';
									element_template += '<img class="list-item__thumbnail" src="' + (found_list[i].images==""? "images/no-image.png" : server_url_image + '100x100-' + found_list[i].images + '?parameters=@width=100@height=100@cropratio=true@quality=85@image=/uploads_found/' + found_list[i].images) + '">';
									element_template += '</div>';
									element_template += '<div class="center">';
									element_template += '<span class="list-item__title">' + found_list[i].Name_of_the_device + '</span><span class="list-item__subtitle list-item__subtitle_middle">' + city_name_list[found_list[i].City_Name] +'</span><span class="list-item__subtitle">' + lost_category_list[found_list[i].category_id] +'</span>';
									element_template += '</div></ons-list-item>';
									return ons.createElement(element_template);
								},
								countItems: function() {
									return found_list.length;
								}
							};
							infiniteList.refresh();
						});
						
					}, 300);
			}
			else if (page.id === 'news_list')
			{
					check_retina();
					need_translate();
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					setTimeout(function(){
						check_retina();
						need_translate();

						if(window.localStorage.getItem('news_fa') != null && window.localStorage.getItem('language') == "lang_fa")
							arr = $.parseJSON(window.localStorage.getItem('news_fa'));
						else if(window.localStorage.getItem('news_en') != null && window.localStorage.getItem('language') == "lang_en")
							arr = $.parseJSON(window.localStorage.getItem('news_en'));
						else if(window.localStorage.getItem('news_ar') != null)
							arr = $.parseJSON(window.localStorage.getItem('news_ar'));
						//console.log(arr);
						
						var html_temp = "";
						for(var i=0;i<arr.length;i++)
						{
							html_temp = html_temp  +
												'<article class="' + window.localStorage.getItem('language') + '" >' +
												'<div class="list-block media-list">' +
												// '<img class="article" src="img/no-image-t.png" style="background-image:url(\'' + server_url + arr[i].image + '\'),url(\'images/no-image.png\');">' +
												// '<img class="article lazyload" src="images/no-image.png" data-src="' + server_url + arr[i].image + '">' +
												// '<div class="article lazyload" style="url(\'images/no-image.png\');" data-src2="background-image:url(\'' + server_url + arr[i].image + '\'),url(\'images/no-image.png\');"></div>' +
												'<div class="article lazyload" style="background-image:url(\'images/no-image.png\');" data-src="' + server_url_image + arr[i].image + '"></div>' +
												'<div class="content-block"><h2 onclick="goto_one_news_page(' + i + ')">' + arr[i].title + '</h2>' +
												'<p>' + (arr[i].introtext!=''?arr[i].introtext:'-----') + '</p>' +
												'<div style="width:100%;">' +
												'<a class="button " href="javascript:goto_one_news_page(' + i + ')"><span class="btn_text">' + multilang.get("Read_More") + '</span></a>' +
												'<span class="btn_date">' + arr[i].date + '</span>' +
												'</div>' +
												// '<a class="button " href="blogDetail.html?id=' + arr[i].id + '">ادامه مطلب</a></div>' +
												'</div><div class="separator"></div>' +
												'</div>' +
												'</article>';			
						}
						//console.log(html_temp);
						if(html_temp!="")
							$(".news_placeholder").html(html_temp);
						lazyload();
					}, 300);
			}
			else if (page.id === 'news_list_Mukeb')
			{
					check_retina();
					need_translate();
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					setTimeout(function(){
						check_retina();
						need_translate();

						if(window.localStorage.getItem('news_fa') != null && window.localStorage.getItem('language') == "lang_fa")
							arr = $.parseJSON(window.localStorage.getItem('news_fa'));
						else if(window.localStorage.getItem('news_en') != null && window.localStorage.getItem('language') == "lang_en")
							arr = $.parseJSON(window.localStorage.getItem('news_en'));
						else if(window.localStorage.getItem('news_ar') != null)
							arr = $.parseJSON(window.localStorage.getItem('news_ar'));
						//console.log(arr);
						
						var html_temp = "";
						for(var i=0;i<arr.length;i++)
						{
							html_temp = html_temp  +
												'<article class="' + window.localStorage.getItem('language') + '" >' +
												'<div class="list-block media-list">' +
												// '<img class="article" src="img/no-image-t.png" style="background-image:url(\'' + server_url + arr[i].image + '\'),url(\'images/no-image.png\');">' +
												// '<img class="article lazyload" src="images/no-image.png" data-src="' + server_url + arr[i].image + '">' +
												// '<div class="article lazyload" style="url(\'images/no-image.png\');" data-src2="background-image:url(\'' + server_url + arr[i].image + '\'),url(\'images/no-image.png\');"></div>' +
												'<div class="article lazyload" style="background-image:url(\'images/no-image.png\');" data-src="' + server_url_image + arr[i].image + '"></div>' +
												'<div class="content-block"><h2 onclick="goto_one_news_page(' + i + ')">' + arr[i].title + '</h2>' +
												'<p>' + (arr[i].introtext!=''?arr[i].introtext:'-----') + '</p>' +
												'<div style="width:100%;">' +
												'<a class="button " href="javascript:goto_one_news_page(' + i + ')"><span class="btn_text">' + multilang.get("Read_More") + '</span></a>' +
												'<span class="btn_date">' + arr[i].date + '</span>' +
												'</div>' +
												// '<a class="button " href="blogDetail.html?id=' + arr[i].id + '">ادامه مطلب</a></div>' +
												'</div><div class="separator"></div>' +
												'</div>' +
												'</article>';			
						}
						//console.log(html_temp);
						if(html_temp!="")
							$(".news_placeholder").html(html_temp);
						lazyload();
					}, 300);
			}
			else if (page.id === 'news_page')
			{
					check_retina();
					need_translate();
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					///////////////////////////////////////////////////////////
					setTimeout(function(){
						check_retina();
						need_translate();

						if(window.localStorage.getItem('news_fa') != null && window.localStorage.getItem('language') == "lang_fa")
							arr = $.parseJSON(window.localStorage.getItem('news_fa'));
						else if(window.localStorage.getItem('news_en') != null && window.localStorage.getItem('language') == "lang_en")
							arr = $.parseJSON(window.localStorage.getItem('news_en'));
						else if(window.localStorage.getItem('news_ar') != null)
							arr = $.parseJSON(window.localStorage.getItem('news_ar'));
						//console.log(arr);
						
						var html_temp = "";
						i = news_id;
							html_temp = html_temp  +
												'<article class="' + window.localStorage.getItem('language') + '" >' +
												'<div class="list-block media-list">' +
												// '<img class="article" src="img/no-image-t.png" style="background-image:url(\'' + server_url + arr[i].image + '\'),url(\'images/no-image.png\');">' +
												// '<img class="article lazyload" src="images/no-image.png" data-src="' + server_url + arr[i].image + '">' +
												// '<div class="article lazyload" style="url(\'images/no-image.png\');" data-src2="background-image:url(\'' + server_url + arr[i].image + '\'),url(\'images/no-image.png\');"></div>' +
												'<div class="article lazyload" style="background-image:url(\'images/no-image.png\');" data-src="' + server_url_image + arr[i].image + '"></div>' +
												'<div class="content-block"><h2 onclick="goto_one_news_page(' + arr[i].id + ')">' + arr[i].title + '</h2>' +
												'<p>' + (arr[i].introtext!=''?arr[i].text_readmore:'-----') + '</p>' +
												//'<div style="width:100%;">' +
												//'<a class="button " href="javascript:goto_one_news_page(' + arr[i].id + ')"><span class="btn_text">' + multilang.get("Read_More") + '</span></a>' +
												//'<span class="btn_date">' + arr[i].date + '</span>' +
												//'</div>' +
												// '<a class="button " href="blogDetail.html?id=' + arr[i].id + '">ادامه مطلب</a></div>' +
												'</div><div class="separator"></div>' +
												'</div>' +
												'</article>';			
						//console.log(html_temp);
						if(html_temp!="")
							$(".news_placeholder_single").html(html_temp);
						lazyload();
					}, 300);
			}

		});
	</script>
</head>
<body onload="init();" >
	<div id="css_placeholder"></div>

	<ons-page>
		<ons-splitter>
			<ons-splitter-side id="menu" side="right" width="220px" collapse>
				<ons-page>
					<ons-list>
						<!-- منوهای عربی -->
						<ons-list-item tappable onclick="fn.load('home.html')" class="just_arabic">
							تغيير اللغة
						</ons-list-item>
						<ons-list-item tappable onclick="fn.load('select_user_type.html')" class="just_arabic">
							تغيير نوع المستخدم
						</ons-list-item>
						<ons-list-item tappable onclick="fn.load('zaer_services.html')" class="just_arabic">
							قائمة خيارات الزائر
						</ons-list-item>
						<ons-list-item tappable onclick="fn.load('contact_support.html')" class="just_arabic">
							اتصل بالدعم
						</ons-list-item>
						<ons-list-item tappable onclick="LogOut()" class="just_arabic">
							الخروج من الحساب
						</ons-list-item>
						<ons-list-item tappable onclick="fn.load('home.html')" class="just_arabic">
							Change language
						</ons-list-item>						
						
						<!-- منوهای انگلیسی -->
						<ons-list-item tappable onclick="fn.load('home.html')" class="just_english">
							Change language
						</ons-list-item>
						<ons-list-item tappable onclick="fn.load('select_user_type.html')" class="just_english">
							Change user type
						</ons-list-item>
						<ons-list-item tappable onclick="fn.load('zaer_services.html')" class="just_english">
							List of User Options
						</ons-list-item>
						<ons-list-item tappable onclick="LogOut()" class="just_english">
							Log Out
						</ons-list-item>
						<ons-list-item tappable onclick="fn.load('home.html')" class="just_english">
							تغيير اللغة
						</ons-list-item>

						<!-- منوهای فارسی -->
						<ons-list-item tappable onclick="fn.load('home.html')" class="just_persian">
							تغییر زبان
						</ons-list-item>
						<ons-list-item tappable onclick="fn.load('select_user_type.html')" class="just_persian">
							تغییر نوع کاربر
						</ons-list-item>
						<ons-list-item tappable onclick="fn.load('zaer_services.html')" class="just_persian">
							فهرست امکانات زائر
						</ons-list-item>
						<ons-list-item tappable onclick="fn.load('contact_support.html')" class="just_persian">
							تماس با پشتیبانی
						</ons-list-item>
						<ons-list-item tappable onclick="LogOut()" class="just_persian">
							خروج از سیستم
						</ons-list-item>
						<ons-list-item tappable onclick="fn.load('home.html')" class="just_persian">
							Change language
						</ons-list-item>						
					</ons-list>
				</ons-page>
			</ons-splitter-side>
			<ons-splitter-content id="content" page="homePage.html"></ons-splitter-content>
		</ons-splitter>
	</ons-page>
	
	<ons-template id="homePage.html">
		<ons-page id="homePage">
			<ons-navigator id="myNavigator" var="myNavigator" page="home.html" swipe-target-width="50px" swipeable></ons-navigator>
		</ons-page>
	</ons-template>
	
	<template id="home.html">
		<ons-page id="home" on-device-backbutton="go_back_index();">
			<div class="page_bg retina" ></div>
			<div class="select_language_page_bg retina" ></div>
			<div class="select_language_page">
				<div id="goto_page_language_ar" class="select_language_btn"></div>
				<div id="goto_page_language_en" class="select_language_btn"></div>
				<div id="goto_page_language_fa" class="select_language_btn"></div>
			</div>
		</ons-page>
	</template>
	
	<template id="select_user_type.html">
		<ons-page id="select_user_type" >
			<div class="page_bg retina" ></div>
			<div class="page_select_user_type retina" ></div>
			<div class="select_user_type_page">
				<div id="top_text" class="need_translate" translate="Please_Select_Your_Login_Type" >Please Select Your Login Type</div>
				<div id="goto_page_user_type_zaer" class="select_user_type_btn"  ><div class="need_translate" translate="The_pilgrim">The pilgrim</div></div>
				<div id="goto_page_user_type_mukeb" class="select_user_type_btn" ><div class="need_translate" translate="Tent_manager">Tent manager</div></div>
				<div id="power_by" class="english_text" >Developed by Fadak al-Fatimiya Organization</div>
			</div>
		</ons-page>
	</template>

	<template id="contact_support.html">
		<ons-page id="contact_support" >
			<div class="page_bg retina" ></div>
			
			<ons-toolbar inline modifier="transparent22">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="Contact_support"></div>
				<div class="left"><ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button></div>
			</ons-toolbar>
			
			<div class="text-100 contact_support_text" style="margin-bottom: 10%;">
				<article></article>
			</div>			
		</ons-page>
	</template>
	
	<template id="update_link.html">
		<ons-page id="update_link" >
			<div class="page_bg retina" ></div>
			
			<ons-toolbar inline modifier="transparent22">
				<!--
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				-->
				<div class="center need_translate" translate="notice"></div>
				<!-- <div class="left"><ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button></div> -->
			</ons-toolbar>
			
			<div class="text-65 need_translate"  translate="update_text" style="margin-bottom: 5%;margin-top:  10%;text-align:  justify;width:  80%;"></div>			
			<div class="text-65" style="margin-bottom: 10%;text-align:  center;">
				<button class="center need_translate btn-success click_here_to_update" translate="update_link" ></button>
			</div>			
		</ons-page>
	</template>

	<template id="zaer_services.html">
		<ons-page id="zaer_services" >
			<div class="page_bg_overflow retina" >
				<ons-toolbar inline modifier="transparent22">
					<div class="right">
						<ons-toolbar-button onclick="fn.open()">
							<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
						</ons-toolbar-button>
					</div>
					<div class="center need_translate" translate=""></div>
					<div class="left">
						<ons-toolbar-button onclick="document.querySelector('#myNavigator').pushPage('select_user_type.html', {animation: 'reversedSlide',animationOptions:{delay: 0.4} });">
							<span class="back-button__icon">
								<svg width="13px" height="21px" viewBox="0 0 13 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ios-back-button-icon</title><desc>Created with Sketch.</desc><defs></defs><g id="__3_inCE7__toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="__3_inCE7__ios" transform="translate(-34.000000, -30.000000)"><polygon id="__3_inCE7__ios-back-button-icon" points="34 40.5 44.5 30 46.5 32 38 40.5 46.5 49 44.5 51"></polygon></g></g></svg>
							</span>
							<span class="back-button__label mukeb_edit_page need_translate" translate="Back">بازگشت</span>
						</ons-button>
					</div>
				</ons-toolbar>
				
				<div id="main_div_zaer_services_css_placeholder"></div>
				<div id="main_div_zaer_services" style="text-align: center; color:#ffffff;margin-top:10%;position: relative;" >
					<img src="images/pages/zaer_services.png" id="menu_zaer_services" class="retina" style="width:100%;" >
					
					<div id="goto_page_zaer_service_map" class="select_service_type_btn" ><div class="need_translate" translate="Trip_Map">Trip Map</div></div>
					<div id="goto_page_zaer_service_map_mavakeb" class="select_service_type_btn" ><div class="need_translate" translate="Tents_Positions">Tents Positions</div></div>
					<div id="goto_page_zaer_service_missing_objects" class="select_service_type_btn" ><div class="need_translate" translate="Missing_objects">Missing Objects</div></div>
					<div id="goto_page_zaer_service_news" class="select_service_type_btn" ><div class="need_translate" translate="News">News</div></div>
				</div>
			</div>
		</ons-page>
	</template>

	<template id="zaer_service_map_mavakeb.html">
		<ons-page id="zaer_service_map_mavakeb" >
			<div class="page_bg retina" ></div>
			
			<ons-toolbar inline modifier="transparent22">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="Tents_Positions"></div>
				<div class="left">
					<ons-toolbar-button onclick="document.querySelector('#myNavigator').pushPage('zaer_services.html', {animation: 'reversedSlide',animationOptions:{delay: 0.4} });">
						<span class="back-button__icon">
							<svg width="13px" height="21px" viewBox="0 0 13 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ios-back-button-icon</title><desc>Created with Sketch.</desc><defs></defs><g id="__3_inCE7__toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="__3_inCE7__ios" transform="translate(-34.000000, -30.000000)"><polygon id="__3_inCE7__ios-back-button-icon" points="34 40.5 44.5 30 46.5 32 38 40.5 46.5 49 44.5 51"></polygon></g></g></svg>
						</span>
						<span class="back-button__label mukeb_edit_page need_translate" translate="Back">بازگشت</span>
					</ons-button>
				</div>
			</ons-toolbar>
			
			<div class="mukeb_map_menu_page_bg retina" >
				
				<div id="mukeb_map_menu_icon_div" ><img src="images/pages/mukeb_map_menu_icon.png" id="mukeb_map_menu_icon" class="retina" style="width:100%;" ></div>
				<div id="select_mukeb_map_type_top_text" class="need_translate" translate="Select_One_of_The_Options_Below" >Select One of The Options Below</div>
				
				<div id="main_div_mukeb_map_menu_css_placeholder"></div>
				
				<div id="main_div_mukeb_map_menu" class="select_mukeb_map_menu" style="text-align: center; color:#ffffff;margin-top:20%;position: relative;" >
					<img src="images/pages/mukeb_map_menu1.png" id="mukeb_map_menu_image" class="retina" style="width:100%;" >
					<div id="goto_page_mukeb_map_najaf" class="select_mukeb_map_type_btn" ><div class="need_translate" translate="Najaf">Najaf</div></div>
					<div id="goto_page_mukeb_map_karbala" class="select_mukeb_map_type_btn" ><div class="need_translate" translate="Karbala">Karbala</div></div>
					<div id="goto_page_mukeb_map_kazemein" class="select_mukeb_map_type_btn" ><div class="need_translate" translate="Kazemein">Kazemein</div></div>
					<div id="goto_page_mukeb_map_from_najaf_to_karbala" class="select_mukeb_map_type_btn" ><div class="need_translate" translate="From_Najaf_to_Karbala">From Najaf to Karbala</div></div>
				</div>
			</div>
		</ons-page>
	</template>
	
	<template id="zaer_service_map.html">
		<ons-page id="zaer_service_map" >
			<div class="page_bg retina" ></div>
			
			<ons-toolbar inline modifier="transparent22">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="Trip_Map"></div>
				<div class="left">
					<ons-toolbar-button onclick="document.querySelector('#myNavigator').pushPage('zaer_services.html', {animation: 'reversedSlide',animationOptions:{delay: 0.4} });">
						<span class="back-button__icon">
							<svg width="13px" height="21px" viewBox="0 0 13 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ios-back-button-icon</title><desc>Created with Sketch.</desc><defs></defs><g id="__3_inCE7__toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="__3_inCE7__ios" transform="translate(-34.000000, -30.000000)"><polygon id="__3_inCE7__ios-back-button-icon" points="34 40.5 44.5 30 46.5 32 38 40.5 46.5 49 44.5 51"></polygon></g></g></svg>
						</span>
						<span class="back-button__label mukeb_edit_page need_translate" translate="Back">بازگشت</span>
					</ons-button>
				</div>
			</ons-toolbar>
			
			<div class="mukeb_map_menu_page_bg" style="background-image:none;" >
				
				<div id="mukeb_map_menu_icon_div" ><img src="images/pages/mukeb_map_menu_icon.png" id="mukeb_map_menu_icon" class="retina" style="width:100%;" ></div>
				<div id="select_mukeb_map_type_top_text" class="need_translate" translate="Select_One_of_The_Options_Below" >Select One of The Options Below</div>
				
				<div id="main_div_mukeb_map_menu_css_placeholder"></div>
				
				<div id="main_div_mukeb_map_menu" class="select_mukeb_map_menu" style="text-align: center; color:#ffffff;margin-top:20%;position: relative;" >
					<img src="images/pages/mukeb_map_menu1.png" id="mukeb_map_menu_image" class="retina" style="width:100%;" >
					<div id="goto_page_mukeb_map_najaf" class="select_mukeb_map_type_btn" ><div class="need_translate" translate="Najaf">Najaf</div></div>
					<div id="goto_page_mukeb_map_karbala" class="select_mukeb_map_type_btn" ><div class="need_translate" translate="Karbala">Karbala</div></div>
					<div id="goto_page_mukeb_map_kazemein" class="select_mukeb_map_type_btn" ><div class="need_translate" translate="Kazemein">Kazemein</div></div>
					<div id="goto_page_mukeb_map_from_najaf_to_karbala" class="select_mukeb_map_type_btn" ><div class="need_translate" translate="From_Najaf_to_Karbala">From Najaf to Karbala</div></div>
				</div>
			</div>
		</ons-page>
	</template>

	<template id="zaer_service_missing_objects.html">
		<ons-page id="zaer_service_missing_objects" >
			<div class="page_bg retina" ></div>
			
			<ons-toolbar inline modifier="transparent22">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="Missing_objects"></div>
				<div class="left"><ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button></div>
			</ons-toolbar>
			
			<div id="zaer_service_missing_objects_menu_css_placeholder"></div>
			
			<div id="zaer_service_missing_objects_menu" style="text-align: center; color:#ffffff;margin-top:20%;position: relative;" >
				<img src="images/pages/zaer_service_missing_objects_menu.png" id="zaer_service_missing_objects_menu_image" class="retina" style="width:100%;" >
				<div id="goto_page_zaer_service_missing_objects_lost" class="zaer_service_missing_objects_btn" ><div class="need_translate" translate="I_Lost_Something">I Lost Something</div></div>
				<div id="goto_page_zaer_service_missing_objects_found" class="zaer_service_missing_objects_btn" ><div class="need_translate" translate="I_Found_Something">I Found Something</div></div>
			</div>
		</ons-page>
	</template>

	<template id="zaer_service_I_Found_Something.html">
		<ons-page id="zaer_service_I_Found_Something" >
			<div class="page_bg retina" ></div>
			
			<ons-toolbar inline modifier="transparent22">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="Missing_objects"></div>
				<div class="left"><ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button></div>
			</ons-toolbar>
			
			<div class="text-65 center-text" style="margin-top: 25%;margin-bottom: 10%;" >
				<span class="need_translate" translate="Thank_you_dear_sir"></span>
				<br>
				<span class="need_translate" translate="Please_pay_attention_to_the_following_points"></span>
			</div>
			
			<div class="text-65" style="margin-bottom: 20%;">
				<ul class="colored-bullets zaer_service_I_Found_Something">
					<li class="need_translate" translate="If_you_find_your_passport_and_identity_documents_you_can_even_submit_it_to_the_pilgrim_s_centers_at_these_addresses"></li>
					<li class="need_translate" translate="Fill_in_the_information_in_the_form_carefully_so_that_the_pilgrim_who_lost_it_can_easily_find_it"></li>
				</ul>
			</div>
			
			<div id="goto_page_zaer_service_missing_objects_found_submit_data" class="center-text" ><div class="Submit_Information" ><div class="need_translate" translate="Submit_Information"></div></div></div>
			
		</ons-page>
	</template>

	<template id="zaer_service_I_Found_Something_data_entry.html">
		<ons-page id="zaer_service_I_Found_Something_data_entry" >
			<ons-toolbar inline modifier="transparent22">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="mukeb_information"></div>
				<div class="left">
					<!--<ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button>-->
					<!-- <ons-toolbar-button onclick="document.querySelector('#myNavigator').pushPage('zaer_service_missing_objects.html', {animation: 'slid',animationOptions:{delay: 0.4} });"> -->
					<ons-toolbar-button onclick="go_back_from_missing_object_data_entry();">
						<span class="back-button__icon">
							<svg width="13px" height="21px" viewBox="0 0 13 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ios-back-button-icon</title><desc>Created with Sketch.</desc><defs></defs><g id="__3_inCE7__toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="__3_inCE7__ios" transform="translate(-34.000000, -30.000000)"><polygon id="__3_inCE7__ios-back-button-icon" points="34 40.5 44.5 30 46.5 32 38 40.5 46.5 49 44.5 51"></polygon></g></g></svg>
						</span>
						<span class="back-button__label mukeb_edit_page need_translate" translate="Back">بازگشت</span>
					</ons-button>
				</div>
			</ons-toolbar>

			<div class="page_bg_overflow retina" >
				<div class="text-65 center-text" style="margin-bottom: 10%;margin-top:65px;">
					<span class="need_translate" translate="Enter_the_specification_of_the_found_object"></span>
				</div>
				
				<div class="text-65" style="margin-bottom: 20%;">
				
					<div class="input">
						<ons-input id="Name_of_the_device" modifier="underbar" placeholder="Name_of_the_device" float class="need_translate_val" translate="Name_of_the_device"></ons-input>
					</div>
					<div  class="input" style="position:relative;">
						<div class="Select_hover" onclick="app.showFromObject()" ></div>
						<ons-input id="Select_a_category" modifier="underbar" placeholder="Select_a_category" float class="need_translate_val" translate="Select_a_category"></ons-input>
						<div style="display:none;">
							<ons-input id="Select_a_category_id" modifier="underbar" float ></ons-input>
						</div>
					</div>
					<div  class="input" style="position:relative;">
						<div class="Select_hover" onclick="show_get_found_location_popup()" ></div>
						<ons-input id="Finding_Location" modifier="underbar" placeholder="Finding_Location" float class="need_translate_val" translate="Finding_Location"></ons-input>
					</div>
					<div  class="input" style="position:relative;">
						<div class="Select_hover" onclick="show_get_found_Contacts_popup()" ></div>
						<ons-input id="Contacts_Info" modifier="underbar" placeholder="Contacts_Info" float class="need_translate_val" translate="Contacts_Info"></ons-input>
					</div>
					<div  class="input" style="position:relative;">
						<ons-input id="Description" modifier="underbar" placeholder="Description" float class="need_translate_val" translate="Description"></ons-input>
					</div>
					<div  class="input" style="position:relative;">
						<div class="Select_hover" onclick="get_image()" ></div>
						<div class="Select_hover camera_image" onclick="get_image()">
							<img src="images/camera.svg" >
						</div>
						<ons-input id="Image_of_the_Object" modifier="underbar" placeholder="Image_of_the_Object" float class="need_translate_val" translate="Image_of_the_Object"></ons-input>
					</div>
				</div>
				
				<div id="goto_page_zaer_service_missing_objects_found_submit_data" class="center-text" ><div class="Submit_Information" ><div class="need_translate" translate="Submit_Information"></div></div></div>
			</div>
		</ons-page>
	</template>
	
	<template id="register_mukeb.html">
		<ons-page id="register_mukeb" >
			<div class="page_bg retina" ></div>
			<ons-toolbar inline modifier="transparent22" style="background-color:  rgba(38,119,149,1);">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="Login">Login</div>
				<div class="left"><ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button></div>
			</ons-toolbar>

			<ons-tabbar swipeable position="auto" >
				<ons-tab page="Register_tab.html" label="Register_Tent_manager" icon="fa-user-plus" class="need_translate_tab" translate="Register" ></ons-tab>
				<ons-tab page="Login_tab.html" label="Login" icon="fa-user" class="need_translate_tab" translate="Login" active></ons-tab>
			</ons-tabbar>
			
		</ons-page>
	</template>

	<template id="Register_tab.html">
		<ons-page id="Login_tab">
			<div class="text-65 center_the_box_vertical justify-text" >
				<!-- <img src="images/pages/mukeb_icon.png" style="max-width:100%;margin:0 auto 10% auto;width:70px;width:33%;display: block;"> -->
				<span class="need_translate" translate="Register_Description"></span><br><br>
				<div class="input">
					<ons-input id="Mobile_Number_register" pattern="\d*" modifier="underbar" placeholder="Mobile_Number" float class="need_translate_val" translate="Mobile_Number"></ons-input>
				</div>
				<div class="input" >
					<ons-input id="Mukeb_Name" modifier="underbar" placeholder="Mukeb_Name" float class="need_translate_val" translate="Mukeb_Name"></ons-input>
				</div>
				<div class="input" style="margin-bottom: 10%;">
					<ons-select id="city_name" onchange="editSelect_city_name(event)" modifier="underbar">
						<option value=""  class="need_translate_just_html" translate="City_Name"></option>
						<option value="1" class="need_translate_just_html" translate="Karbala" ></option>
						<option value="2" class="need_translate_just_html" translate="Najaf" ></option>
						<option value="3" class="need_translate_just_html" translate="Kazemein" ></option>
						<option value="4" class="need_translate_just_html" translate="From_Najaf_to_Karbala" ></option>
						<option value="5" class="need_translate_just_html" translate="From_Kazemein_to_Karbala" ></option>
					</ons-select>
				</div>
				
				
				<div class="input" style="direction:ltr;">
					<ons-input id="Captcha2" modifier="underbar" placeholder="Captcha" float class="need_translate_val" translate="Captcha"></ons-input>
				</div>
				<div style="width:100%;text-align:center;" ><img src="" class="captcha2_image" style="max-width: max-content;width:  100%;" onclick="$('.captcha2_image').attr('src', server_url_main + 'captcha/captcha2.php?rand' + Math.random())" /></div>
				<span class="need_translate" translate="Captcha_description" style="font-size: 11px;margin-bottom: 18px;display:  block;margin-top: 0px;color:  #ccc;text-align:  center;"></span>
				
				<div id="register_mukeb_manager_submit_data" class="center-text" ><div class="Submit_Information" ><div class="need_translate" translate="pre_registration"></div></div></div>
				<br/><br/>
			</div>
		</ons-page>
	</template>
	
	<template id="Login_tab.html">
		<ons-page id="Register_tab">
			<div class="text-65 center_the_box_vertical" >
				<img src="images/pages/mukeb_icon.png" style="max-width:100%;margin:0 auto 10% auto;width:70px;width:33%;display: block;">
				<div class="input">
					<ons-input id="Mobile_Number" pattern="\d*" modifier="underbar" placeholder="Mobile_Number" float class="need_translate_val" translate="Mobile_Number"></ons-input>
				</div>

				<div class="input" style="margin-bottom: 10%;">
					<ons-input id="Password" pattern="\d*" modifier="underbar" type="password" placeholder="Password" float class="need_translate_val" translate="Password"></ons-input>
				</div>
				
				<div class="input" style="direction:ltr;" >
					<ons-input id="Captcha" modifier="underbar" placeholder="Captcha" float class="need_translate_val" translate="Captcha"></ons-input>
				</div>
				<div style="width:100%;text-align:center;" ><img src="" class="captcha_image" style="max-width: max-content;width:  100%;" onclick="$('.captcha_image').attr('src', server_url_main + 'captcha/captcha.php?rand' + Math.random())" /></div>
				<span class="need_translate" translate="Captcha_description" style="font-size: 11px;margin-bottom: 18px;display:  block;margin-top: 0px;color:  #ccc;text-align:  center;"></span>
				
				<div id="login_mukeb_manager_submit_data" class="center-text" ><div class="Submit_Information" ><div class="need_translate" translate="Login" ></div></div></div>
				

				<br>
				<div id="forgot_pasword_mukeb_manager_login_btn" class="center-text" ><div class="Submit_Information2" ><div class="need_translate" translate="forgot_my_password" style="color: #ccc;font-size: 11px;margin-top: -3%;" ></div></div></div>
				<br/><br/>
			</div>
		</ons-page>
	</template>

	<template id="confirm_mukeb_manager.html">
		<ons-page id="confirm_mukeb_manager" >
			<div class="page_bg retina" ></div>
			
			<ons-toolbar inline modifier="transparent22">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="Tent_manager"></div>
				<div class="left"><ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button></div>
			</ons-toolbar>
			
			<div class="text-65 center_the_box_vertical justify-text" >
				<div class="input">
					<ons-input id="Code_in_SMS" modifier="underbar" placeholder="Code_in_SMS" float class="need_translate_val center-text" translate="Code_in_SMS"></ons-input>
				</div>

				<div id="register_mukeb_manager_check_sms" class="center-text" ><div class="Submit_Information" ><div class="need_translate" translate="ok"></div></div></div>
				<br>
				<div id="register_mukeb_manager_resend_sms" class="center-text" ><div class="Submit_Information2" ><div class="need_translate" translate="Send_SMS_again"></div></div></div>
			</div>
		</ons-page>
	</template>

	<template id="forgot_pasword_mukeb_manager_login.html">
		<ons-page id="forgot_pasword_mukeb_manager_login" >
			<div class="page_bg retina" ></div>
			
			<ons-toolbar inline modifier="transparent22">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="Login" ></div>
				<div class="left"><ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button></div>
			</ons-toolbar>
			
			<div class="text-65 center_the_box_vertical justify-text" >
				<div class="input">
					<ons-input id="Code_in_SMS" modifier="underbar" placeholder="Code_in_SMS" float class="need_translate_val center-text" translate="Code_in_SMS"></ons-input>
				</div>

				<div id="forgot_pasword_mukeb_manager_check_sms" class="center-text" ><div class="Submit_Information" ><div class="need_translate" translate="ok"></div></div></div>
				<br>
				<div id="forgot_pasword_mukeb_manager_resend_sms" class="center-text" ><div class="Submit_Information2" ><div class="need_translate" translate="Send_SMS_again"></div></div></div>
			</div>
		</ons-page>
	</template>
	
	<template id="logined_mukeb.html">
		<ons-page id="logined_mukeb" >
			<div class="page_bg retina" ></div>
			
			<ons-toolbar inline modifier="transparent22">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="Tent_manager"></div>
				<div class="left"><ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button></div>
			</ons-toolbar>
			
			<div class="text-65" style="margin-top: 25%;margin-bottom: 10%;" >
				<span class="need_translate" translate="Contact_support_text"></span>
			</div>			
		</ons-page>
	</template>
	
	<template id="edit_mukeb_data.html">
		<ons-page id="edit_mukeb_data" >
			<ons-toolbar inline modifier="transparent22">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="mukeb_information"></div>
				<div class="left">
					<!--<ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button>-->
					<ons-toolbar-button onclick="document.querySelector('#myNavigator').pushPage('mukeb_manager_menu.html', {animation: 'reversedSlide',animationOptions:{delay: 0.4} });">
						<span class="back-button__icon">
							<svg width="13px" height="21px" viewBox="0 0 13 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ios-back-button-icon</title><desc>Created with Sketch.</desc><defs></defs><g id="__3_inCE7__toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="__3_inCE7__ios" transform="translate(-34.000000, -30.000000)"><polygon id="__3_inCE7__ios-back-button-icon" points="34 40.5 44.5 30 46.5 32 38 40.5 46.5 49 44.5 51"></polygon></g></g></svg>
						</span>
						<span class="back-button__label mukeb_edit_page need_translate" translate="Back">بازگشت</span>
					</ons-button>
				</div>
			</ons-toolbar>
			<div class="page_bg_overflow retina" >
				<!-- <div class="page_bg retina" ></div> -->
				<div class="text-65" style="margin-bottom: 10%;margin-top:65px;">
					<fieldset>
						<legend class="need_translate" translate="General_Information"></legend>
							<div class="input">
								<ons-input id="Mukeb_Name" modifier="underbar" placeholder="Mukeb_Name" float class="need_translate_val" translate="Mukeb_Name"></ons-input>
							</div>
							<div class="input">
								<ons-input id="Mukeb_state" modifier="underbar" placeholder="Mukeb_state" float class="need_translate_val" translate="Mukeb_state"></ons-input>
							</div>
							<div class="input">
								<ons-input id="Mukeb_id" modifier="underbar" placeholder="Mukeb_id" float class="need_translate_val" translate="Mukeb_id"></ons-input>
							</div>
							<legend class="need_translate" translate="Mukeb_type"></legend>
							<div class="input" >
								<ons-select id="Mukeb_type" onchange="editSelect_Mukeb_type(event)" modifier="underbar">
									<option value=""  class="need_translate_just_html" translate="Mukeb_type"></option>
									<option value="0" class="need_translate_just_html" translate="Mukeb_type_service" ></option>
									<option value="1" class="need_translate_just_html" translate="Mukeb_type_azae" ></option>
								</ons-select>
							</div>
							<div  class="input" style="position:relative;">
								<div class="Select_hover man_image" style="width: 51px;">
									<img src="images/man.svg" >
								</div>
								<ons-input id="Man_capacity" pattern="\d*" modifier="underbar" placeholder="Man_capacity" float class="need_translate_val" translate="Man_capacity"></ons-input>
							</div>
							<div  class="input" style="position:relative;">
								<div class="Select_hover woman_image" style="width: 51px;">
									<img src="images/woman.svg" >
								</div>
								<ons-input id="Woman_capacity" pattern="\d*" modifier="underbar" placeholder="Woman_capacity" float class="need_translate_val" translate="Woman_capacity"></ons-input>
							</div>
					</fieldset>
					<fieldset>
						<legend class="need_translate" translate="Location"></legend>
						<div class="input" >
							<ons-select id="city_name_mukeb_manager" onchange="editSelect_city_name(event)" modifier="underbar">
								<option value=""  class="need_translate_just_html" translate="City_Name"></option>
								<option value="1" class="need_translate_just_html" translate="Karbala" ></option>
								<option value="2" class="need_translate_just_html" translate="Najaf" ></option>
								<option value="3" class="need_translate_just_html" translate="Kazemein" ></option>
								<option value="4" class="need_translate_just_html" translate="From_Najaf_to_Karbala" ></option>
								<option value="5" class="need_translate_just_html" translate="From_Kazemein_to_Karbala" ></option>
							</ons-select>
						</div>
						<div class="input">
							<ons-input id="Pillar_Number" modifier="underbar" placeholder="Pillar_Number" float class="need_translate_val" translate="Pillar_Number"></ons-input>
						</div>
						<div class="input">
							<ons-input id="Address" modifier="underbar" placeholder="Address" float class="need_translate_val" translate="Address"></ons-input>
						</div>
						<ons-button onclick="navigator.geolocation.getCurrentPosition(getCurrentPosition_onSuccess_for_mukeb, getCurrentPosition_onError);" class="need_translate" translate="Record_GPS_position" style="background-color: #4CAF50; color: #ffffff;width:100%;text-align:center;"></ons-button>
						<div class="need_translate goto_mukeb" translate="If_you_are_in_tent" ></div>
					</fieldset>
					<fieldset>
						<legend class="need_translate" translate="Contacts_Info"></legend>
						<div class="input">
							<ons-input id="Phone_number_1" modifier="underbar" placeholder="Phone_number_1" float class="need_translate_span required" translate="Phone_number_1"></ons-input>
						</div>
						<div class="input">
							<ons-input id="Phone_number_2" modifier="underbar" placeholder="Phone_number_2" float class="need_translate_span required" translate="Phone_number_2"></ons-input>
						</div>
						<div class="input">
							<ons-input id="Phone_number_3" modifier="underbar" placeholder="Phone_number_3" float class="need_translate_span required" translate="service_phone_number"></ons-input>
						</div>
						<div class="input">
							<ons-input id="Telegram_ID" modifier="underbar" placeholder="Telegram_ID" float class="need_translate_span" translate="Telegram_ID"></ons-input>
						</div>
						<div class="input">
							<ons-input id="WhatsApp_ID" modifier="underbar" placeholder="WhatsApp_ID" float class="need_translate_span" translate="WhatsApp_ID"></ons-input>
						</div>
						<div class="input">
							<ons-input id="Line_ID" modifier="underbar" placeholder="Line_ID" float class="need_translate_span" translate="Line_ID"></ons-input>
						</div>
						<div class="input">
							<ons-input id="Imo_ID" modifier="underbar" placeholder="Imo_ID" float class="need_translate_span" translate="Imo_ID"></ons-input>
						</div>
					</fieldset>
					<fieldset>
						<legend class="need_translate" translate="Features"></legend>
						<div class="input">
							<label class="left">
								<ons-checkbox input-id="Food" ></ons-checkbox>
							</label>
							<label for="Food" class="center need_translate" translate="Food">Food</label>
						</div>
						<div class="input">
							<label class="left">
								<ons-checkbox input-id="Blanket"></ons-checkbox>
							</label>
							<label for="Blanket" class="center need_translate" translate="Blanket">Blanket</label>
						</div>
						<div class="input">
							<label class="left">
								<ons-checkbox input-id="Internet"></ons-checkbox>
							</label>
							<label for="Internet" class="center need_translate" translate="Internet">Internet</label>
						</div>
						<div class="input">
							<label class="left">
								<ons-checkbox input-id="WC"></ons-checkbox>
							</label>
							<label for="WC" class="center need_translate" translate="WC">WC</label>
						</div>
						<div class="input">
							<label class="left">
								<ons-checkbox input-id="Washing_Machine"></ons-checkbox>
							</label>
							<label for="Washing_Machine center" class="need_translate" translate="Washing_Machine">Washing Machine</label>
						</div>
						<div class="input" style="margin-bottom:1%;">
							<label class="left">
								<ons-checkbox input-id="Bathroom"></ons-checkbox>
							</label>
							<label for="Bathroom" class="center need_translate" translate="Bathroom">Bathroom</label>
						</div>
					</fieldset>
					
					<fieldset id="fieldset_for_upload_images">
						<legend class="need_translate" translate="Images"></legend>
						<div id="images_place_holder"></div>
						<ons-button onclick="get_image_for_mukeb()" class="need_translate" translate="Add_Image" style="background-color: #4CAF50; color: #ffffff;width:100%;text-align:center;"></ons-button>
					</fieldset>
					<div  class="input" style="position:relative;">
						<ons-input id="Description" modifier="underbar" placeholder="Description" float class="need_translate_val" translate="Description"></ons-input>
					</div>

				</div>
				
				<div id="edit_mukeb_data_submit_btn" class="center-text"  style="margin-bottom: 10%;"><div class="Submit_Information" ><div class="need_translate" translate="Submit_Information"></div></div></div>
			</div>
		</ons-page>
	</template>

	<template id="mukeb_manager_menu.html">
		<ons-page id="mukeb_manager_menu" >
			<div class="page_bg_overflow retina" >
				<ons-toolbar inline modifier="transparent22">
					<div class="right">
						<ons-toolbar-button onclick="fn.open()">
							<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
						</ons-toolbar-button>
					</div>
					<div class="center need_translate" translate="mukeb_information"></div>
					<div class="left">
						<ons-toolbar-button onclick="document.querySelector('#myNavigator').pushPage('select_user_type.html', {animation: 'reversedSlide',animationOptions:{delay: 0.4} });">
							<span class="back-button__icon">
								<svg width="13px" height="21px" viewBox="0 0 13 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ios-back-button-icon</title><desc>Created with Sketch.</desc><defs></defs><g id="__3_inCE7__toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="__3_inCE7__ios" transform="translate(-34.000000, -30.000000)"><polygon id="__3_inCE7__ios-back-button-icon" points="34 40.5 44.5 30 46.5 32 38 40.5 46.5 49 44.5 51"></polygon></g></g></svg>
							</span>
							<span class="back-button__label mukeb_edit_page need_translate" translate="Back">بازگشت</span>
						</ons-button>
					</div>
				</ons-toolbar>

				
				<div id="main_div_mukeb_manager_menu_css_placeholder"></div>
				<div id="main_div_mukeb_manager_menu" style="text-align: center; color:#ffffff;margin-top:20%;position: relative;" >
					<img src="images/pages/mukeb_manager_page.png" id="menu_mukeb_manager_menu" class="retina" style="width:100%;" >
					
					<div id="goto_page_mukeb_update_zaer_count" class="select_mukeb_manager_service_type_btn" ><div class="need_translate" translate="Updating_the_number_of_pilgrims"></div></div>
					<div id="goto_page_mukeb_found_object" class="select_mukeb_manager_service_type_btn" ><div class="need_translate" translate="found_Objects"></div></div>
					<div id="goto_page_mukeb_edit_data" class="select_mukeb_manager_service_type_btn" ><div class="need_translate" translate="Edit_mukeb_data"></div></div>
					<!-- <div id="goto_page_mukeb_service_weather" class="select_mukeb_manager_service_type_btn" ><div class="need_translate" translate="Weather"></div></div> -->
					<div id="goto_page_mukeb_news" class="select_mukeb_manager_service_type_btn" ><div class="need_translate" translate="News">News</div></div>
				</div>
			</div>
		</ons-page>
	</template>

	<template id="zaer_service_I_Lost_Something.html">
		<ons-page id="zaer_service_I_Lost_Something" >
			<div class="page_bg retina" ></div>
			<ons-toolbar inline modifier="transparent22">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="filter" translate2="Found_List">Found List</div>
				<div class="left"><ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button></div>
			</ons-toolbar>

			<ons-tabbar swipeable position="auto" >
				<ons-tab page="zaer_service_I_Lost_Something_list_tab.html" label="filter" icon="fa-search" class="need_translate_tab" translate="Found_List" active></ons-tab>
				<ons-tab page="zaer_service_I_Lost_Something_favorite_tab.html"  label="Maybe_This" icon="fa-star" class="need_translate_tab" translate="Maybe_This" ></ons-tab>
			</ons-tabbar>
			
		</ons-page>
	</template>
	
	<template id="zaer_service_I_Lost_Something_list_tab.html">
		<ons-page id="zaer_service_I_Lost_Something_list_tab">
			<ons-toolbar>
				<div class="center"></div>
			</ons-toolbar>
						
			<ons-list >
				<ons-lazy-repeat id="infinite-list"></ons-lazy-repeat>
			</ons-list>
			<ons-list id="load_more_ons_list_container" style="display:none;">
				<ons-list-item id="load_more_ons_list" onclick2="loadmore_for_list('','','');">
					<div class="margin-auto need_translate" translate="Load_More"></div>
				</ons-list-item>
			</ons-list>
		</ons-page>
	</template>

	<template id="zaer_service_I_Lost_Something_favorite_tab.html">
		<ons-page id="zaer_service_I_Lost_Something_favorite_tab">
			<ons-toolbar>
				<div class="center"></div>
			</ons-toolbar>
			<div id="zaer_service_I_Lost_Something_favorite_container">
				<ons-card>
					<img src="https://monaca.io/img/logos/download_image_onsenui_01.png" alt="Onsen UI" style="width: 100%">
					<div class="title">
						Awesome framework
					</div>
					<div class="content">
						<ons-list>
							<ons-list-header>Bindings</ons-list-header>
							<ons-list-item>Vue</ons-list-item>
							<ons-list-item>Angular</ons-list-item>
							<ons-list-item>React</ons-list-item>
						</ons-list>
					</div>
				</ons-card>
			</div>
		</ons-page>
	</template>

	<template id="news_list.html">
		<ons-page id="news_list" >
			<ons-toolbar inline modifier="transparent22" style="background-color:  rgba(38,119,149,1);">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="News"></div>
				<div class="left">
					<ons-toolbar-button onclick="document.querySelector('#myNavigator').pushPage('zaer_services.html', {animation: 'reversedSlide',animationOptions:{delay: 0.4} });">
						<span class="back-button__icon">
							<svg width="13px" height="21px" viewBox="0 0 13 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ios-back-button-icon</title><desc>Created with Sketch.</desc><defs></defs><g id="__3_inCE7__toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="__3_inCE7__ios" transform="translate(-34.000000, -30.000000)"><polygon id="__3_inCE7__ios-back-button-icon" points="34 40.5 44.5 30 46.5 32 38 40.5 46.5 49 44.5 51"></polygon></g></g></svg>
						</span>
						<span class="back-button__label mukeb_edit_page need_translate" translate="Back">بازگشت</span>
					</ons-button>
				</div>
			</ons-toolbar>
			<div class="page_bg_overflow retina" >
				<!-- <div class="page_bg retina" ></div> -->
				<div class="news_placeholder text-100" style="margin-bottom: 10%;margin-top:65px;">
					<div class="need_translate" translate="There_no_news_here_yet" style="text-align:  center;font-weight:  bold;padding-top: 24px;"></div>
				</div>
			</div>
		</ons-page>
	</template>

	<template id="news_list_Mukeb.html">
		<ons-page id="news_list" >
			<ons-toolbar inline modifier="transparent22" style="background-color:  rgba(38,119,149,1);">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="News"></div>
				<div class="left">
					<ons-toolbar-button onclick="document.querySelector('#myNavigator').pushPage('mukeb_manager_menu.html', {animation: 'reversedSlide',animationOptions:{delay: 0.4} });">
						<span class="back-button__icon">
							<svg width="13px" height="21px" viewBox="0 0 13 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ios-back-button-icon</title><desc>Created with Sketch.</desc><defs></defs><g id="__3_inCE7__toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="__3_inCE7__ios" transform="translate(-34.000000, -30.000000)"><polygon id="__3_inCE7__ios-back-button-icon" points="34 40.5 44.5 30 46.5 32 38 40.5 46.5 49 44.5 51"></polygon></g></g></svg>
						</span>
						<span class="back-button__label mukeb_edit_page need_translate" translate="Back">بازگشت</span>
					</ons-button>
				</div>
			</ons-toolbar>
			<div class="page_bg_overflow retina" >
				<!-- <div class="page_bg retina" ></div> -->
				<div class="news_placeholder text-100" style="margin-bottom: 10%;margin-top:65px;">
					<div class="need_translate" translate="There_no_news_here_yet" style="text-align:  center;font-weight:  bold;padding-top: 24px;"></div>
				</div>
			</div>
		</ons-page>
	</template>

	<template id="news_page.html">
		<ons-page id="news_page" >
			<ons-toolbar inline modifier="transparent22" style="background-color:  rgba(38,119,149,1);">
				<div class="right">
					<ons-toolbar-button onclick="fn.open()">
						<ons-icon icon="ion-navicon, material:md-menu" style="color:#ffffff;"></ons-icon>
					</ons-toolbar-button>
				</div>
				<div class="center need_translate" translate="News"></div>
				<div class="left"><ons-back-button class="need_translate_toolbar_btn" translate="Back" >Back</ons-back-button></div>
			</ons-toolbar>

			<div class="page_bg_overflow retina" >
				<!-- <div class="page_bg retina" ></div> -->
				<div class="news_placeholder_single text-100" style="margin-bottom: 10%;margin-top:65px;">
					<div class="need_translate" translate="There_no_news_here_yet" style="text-align:  center;font-weight:  bold;padding-top: 24px;"></div>
				</div>
			</div>
		</ons-page>
	</template>


































<script>

function getCurrentPosition_onSuccess_with_alert(position){
	//alert("longitude : " + position.coords.longitude);
	//alert("latitude  : " + position.coords.latitude );
	if (window.cordova)
	{
		navigator.notification.alert(
			multilang.get("Location_Found!"),				// message
			alertDismissed,									// callback
			multilang.get("notice") ,						// title
			multilang.get("ok")								// buttonName
		);
	}
	else
	{
		text = "longitude : " + position.coords.longitude + "<br>" + "latitude  : " + position.coords.latitude;
		fromTemplate(text);
	}
	var user_longitude = position.coords.longitude;
	var user_latitude  = position.coords.latitude;
	
	if(user_longitude!="")
		window.sessionStorage.setItem("user_longitude",user_longitude);
	if(user_latitude!="")
		window.sessionStorage.setItem("user_latitude",user_latitude);
}
function getCurrentPosition_onSuccess_without_alert(position){
	//alert("longitude : " + position.coords.longitude);
	//alert("latitude  : " + position.coords.latitude );
	if (window.cordova)
	{
		
	}
	else
	{
		text = "longitude : " + position.coords.longitude + "<br>" + "latitude  : " + position.coords.latitude;
		fromTemplate(text);
	}
	var user_longitude = position.coords.longitude;
	var user_latitude  = position.coords.latitude;
	
	if(user_longitude!="")
		window.sessionStorage.setItem("user_longitude",user_longitude);
	if(user_latitude!="")
		window.sessionStorage.setItem("user_latitude",user_latitude);
}
function getCurrentPosition_onSuccess_for_mukeb(position){
	var user_longitude = position.coords.longitude;
	var user_latitude  = position.coords.latitude;
	if (window.cordova)
	{
		navigator.notification.alert(
			multilang.get("Location_Found!"),				// message
			alertDismissed,									// callback
			multilang.get("notice") ,						// title
			multilang.get("ok")								// buttonName
		);
	}
	if(user_longitude!="")
		window.sessionStorage.setItem("mukeb_longitude",user_longitude);
	if(user_latitude!="")
		window.sessionStorage.setItem("mukeb_latitude",user_latitude);
}
function getCurrentPosition_onError(){
	if (window.cordova)
	{
		navigator.notification.alert(
			multilang.get("The_deivce_GPS_is_not_working"),	// message
			alertDismissed,									// callback
			multilang.get("warning") ,						// title
			multilang.get("ok")								// buttonName
		);
	}
	else
	{
		text = "<span class='need_translate' translate='The_deivce_GPS_is_not_working' >786</span>";
		fromTemplate(text);
	}
}
function found_save_current_location(){
	var found_City_Name = document.getElementById('found_City_Name').value;
	var found_Pillar_Number = document.getElementById('found_Pillar_Number').value;
	var found_Tent_Name = document.getElementById('found_Tent_Name').value;
	
	if(found_City_Name!="")
		window.localStorage.setItem("found_City_Name",found_City_Name);
	else
	{
		ons.notification.alert(multilang.get("Please_fill_the_required_fields"));
		$("#found_City_Name").addClass("required_but_empty");
		return false;
	}
	if(found_Pillar_Number!="")
		window.localStorage.setItem("found_Pillar_Number",found_Pillar_Number);
	
	if(found_Tent_Name!="")
		window.localStorage.setItem("found_Tent_Name",found_Tent_Name);

	//document.getElementById('Finding_Location').value = multilang.get("Finding_Location_Submitted");
	$("#Finding_Location input").val(multilang.get("Finding_Location_Submitted"));
	
	hideDialog('found_get_location_dialog');
}
function found_save_Contacts(){

	var found_Phone_number = document.getElementById('found_Phone_number').value;
	var found_Telegram_ID = document.getElementById('found_Telegram_ID').value;
	var found_WhatsApp_ID = document.getElementById('found_WhatsApp_ID').value;
	var found_Line_ID = document.getElementById('found_Line_ID').value;
	var found_Imo_ID = document.getElementById('found_Imo_ID').value;
	
	if(found_Phone_number!="")
		window.localStorage.setItem("found_Phone_number",found_Phone_number);
	else
	{
		ons.notification.alert(multilang.get("Please_fill_the_required_fields"));
		$("#found_Phone_number").addClass("required_but_empty");
		return false;
	}
	if(found_Telegram_ID!="")
		window.localStorage.setItem("found_Telegram_ID",found_Telegram_ID);
	
	if(found_WhatsApp_ID!="")
		window.localStorage.setItem("found_WhatsApp_ID",found_WhatsApp_ID);
	
	if(found_Line_ID!="")
		window.localStorage.setItem("found_Line_ID",found_Line_ID);
	
	if(found_Imo_ID!="")
		window.localStorage.setItem("found_Imo_ID",found_Imo_ID);

	//document.getElementById('Contacts_Info').value = multilang.get("Contacts_Info_Submitted");
	$("#Contacts_Info input").val(multilang.get("Contacts_Info_Submitted"));
	
	hideDialog('found_get_Contacts_dialog');
}
function update_remaining_capacity(){
	var has_error = false;
	
	if(document.getElementById('Man_capacity_remaining').value=="")
	{
		$("#Man_capacity_remaining").addClass("required_but_empty");
		has_error = true;
	}
	else
		$("#Man_capacity_remaining").removeClass("required_but_empty");
		
	if(document.getElementById('Woman_capacity_remaining').value=="")
	{
		$("#Woman_capacity_remaining").addClass("required_but_empty");
		has_error = true;
	}
	else
		$("#Woman_capacity_remaining").removeClass("required_but_empty");


	networkState = navigator.connection.type;
	if (networkState == Connection.NONE) {
		console.log("start_download : NO internet");
		navigator.notification.alert(
			multilang.get('you_must_connect_to_the_internet'),  // message
			alertDismissed,		 // callback
			multilang.get('warning'),			// title
			multilang.get('ok')		// buttonName
		);
		hideDialog('get_remaining_capacity');
	}
	else{
		var params = {};

		params.Man_capacity_remaining	= document.getElementById('Man_capacity_remaining').value;			
		params.Woman_capacity_remaining	= document.getElementById('Woman_capacity_remaining').value;			
		params.udid						= window.localStorage.getItem('udid');			
		params.token					= encrypt_by_date(window.localStorage.getItem('token'));
		params.token2					= window.localStorage.getItem('token');
		params.act						= "update_remaining_capacity";
		//return console.log(params);
		hideDialog('get_remaining_capacity');
		show_progress_bar("without_cancel_btn");
		
		$.ajax({
				url: server_url,
				type: "POST",
				data: params,
				//async: true,
				success : function(text)
				{
					try {
						json = $.parseJSON(text);
						
						if(json.answer=="Login_tere_is_not_any_account")
						{
							LogOut_and_notif();
						}
						else if(json.answer=="updated")
						{
							window.localStorage.setItem('token',json.token);
							window.localStorage.setItem('last_login_result',text);
							window.localStorage.setItem('capacity_woman',json.mukeb_data.capacity_woman);
							window.localStorage.setItem('capacity_man',json.mukeb_data.capacity_man);
							window.sessionStorage.setItem('he_is_logined',"true");
						}
						else
						{
							$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:3</span>');
							modal.show({animation: "fade"});
							setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
						}
					} catch (e) {
						$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '<br>code:5</span>');
						modal.show({animation: "fade"});
						setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
					}
					hideDialog('dialog_progress_bar');
				},
				error: function(jqXHR, exception) {
					$('#modal-text').html('<ons-icon icon="fa-wifi" size="28px"></ons-icon> <span>' + multilang.get('you_must_connect_to_the_internet') + '</span>');
					modal.show({animation: "fade"});
					setTimeout(function(){ modal.hide({animation: "fade"}); }, 2000);
					hideDialog('dialog_progress_bar');
				},
		});
	}
}
</script>






	<ons-modal direction="up">
		<div style="text-align: center">
			<p id="modal-text" class="rtl"></p>
		</div>
	</ons-modal>
	<template id="dialog.html">
		<ons-dialog id="dialog-alert">
			<div style="text-align: center; padding: 10px;">
				<div id="dialog-text-dialog-alert" class="rtl"></div>
				<p><ons-button onclick="hideDialog('dialog-alert')">OK</ons-button></p>
			</div>
		</ons-dialog>
	</template>
	<template id="dialog-show-card.html">
		<ons-dialog id="dialog-show-card" cancelable animation2="none">
			<div style="text-align: center; padding: 10px;" class="dialog-container2" >
				<div id="dialog-text-dialog-alert2" class="rtl"></div>
				<p><ons-button onclick="add_to_maybe_this();" id="add_to_maybe_this" class="save_to_mayebe_this_btn need_translate" translate="Save_in_Maybe_This">OK</ons-button></p>
				<p><ons-button onclick="hideDialog('dialog-show-card');" class="need_translate" translate="ok">OK</ons-button></p>
			</div>
		</ons-dialog>
	</template>
	<template id="dialog_progress_bar.html">
		<ons-dialog id="dialog_progress_bar">
			<div style="text-align: center; padding: 10px;">
				<p id="Uploading-text" class="ltr">Uploading...</p>
				<ons-progress-bar value="10" indeterminate></ons-progress-bar>
				<p><ons-button id="progress_bar_cancel_btn" onclick="progress_bar_cancel_btn();" class="need_translate" translate="Cancel">Cancel</ons-button></p>
			</div>
		</ons-dialog>
	</template>
	<template id="found_get_location_dialog.html">
		<ons-dialog id="found_get_location_dialog">
			<div style="text-align: center; padding: 10px;">
				<div id="dialog-text" class="rtl">
					<ons-button onclick="navigator.geolocation.getCurrentPosition(getCurrentPosition_onSuccess_with_alert, getCurrentPosition_onError);" class="need_translate" translate="Record_GPS_position" style="background-color: #4CAF50; color: #ffffff;"></ons-button>
					<br/>
					<span class="need_translate" translate="The_place_you_are_currently_in" style="margin-top: 10px;display: block;"></span>
				</div>
				<div id="dialog-text" class="rtl" >
					<!-- <ons-input id="found_City_Name" modifier="underbar" placeholder="City_Name" float class="need_translate_span required" translate="City_Name"></ons-input> -->
					<ons-select id="found_City_Name" onchange="editSelect_city_name(event)" modifier="underbar">
						<option value=""  class="need_translate_just_html" translate="City_Name"></option>
						<option value="1" class="need_translate_just_html" translate="Karbala" ></option>
						<option value="2" class="need_translate_just_html" translate="Najaf" ></option>
						<option value="3" class="need_translate_just_html" translate="Kazemein" ></option>
						<option value="4" class="need_translate_just_html" translate="From_Najaf_to_Karbala" ></option>
						<option value="5" class="need_translate_just_html" translate="From_Kazemein_to_Karbala" ></option>
					</ons-select>
				</div>
				<div id="dialog-text" class="rtl">
					<ons-input id="found_Pillar_Number" modifier="underbar" placeholder="Pillar_Number" float class="need_translate_span" translate="Pillar_Number"></ons-input>
				</div>
				<div id="dialog-text" class="rtl">
					<ons-input id="found_Tent_Name" modifier="underbar" placeholder="Tent_Name" float class="need_translate_span" translate="Tent_Name"></ons-input>
				</div>
				<p><ons-button onclick="found_save_current_location();" class="need_translate" translate="ok">OK</ons-button></p>

			</div>
		</ons-dialog>
	</template>
	<template id="found_get_Contacts_dialog.html">
		<ons-dialog id="found_get_Contacts_dialog">
			<div style="text-align: center; padding: 10px;">

				<div id="dialog-text" class="rtl" >
					<ons-input id="found_Phone_number" modifier="underbar" placeholder="Phone_number" float class="need_translate_span required" translate="Phone_number"></ons-input>
				</div>
				<div id="dialog-text" class="rtl">
					<ons-input id="found_Telegram_ID" modifier="underbar" placeholder="Telegram_ID" float class="need_translate_span" translate="Telegram_ID"></ons-input>
				</div>
				<div id="dialog-text" class="rtl">
					<ons-input id="found_WhatsApp_ID" modifier="underbar" placeholder="WhatsApp_ID" float class="need_translate_span" translate="WhatsApp_ID"></ons-input>
				</div>
				<div id="dialog-text" class="rtl">
					<ons-input id="found_Line_ID" modifier="underbar" placeholder="Line_ID" float class="need_translate_span" translate="Line_ID"></ons-input>
				</div>
				<div id="dialog-text" class="rtl">
					<ons-input id="found_Imo_ID" modifier="underbar" placeholder="Imo_ID" float class="need_translate_span" translate="Imo_ID"></ons-input>
				</div>
				<p><ons-button onclick="found_save_Contacts();" class="need_translate" translate="ok">OK</ons-button></p>

			</div>
		</ons-dialog>
	</template>
	<template id="get_remaining_capacity.html">
		<ons-dialog id="get_remaining_capacity">
			<div style="text-align: center; padding: 10px;">
				<br>
				<div class="input" style="position:relative;margin-bottom: 17px;">
					<div class="Select_hover man_image" style="width: 51px;">
						<img src="images/man_b.svg" style="margin-top:-10px;margin-left: -3px;" >
					</div>
					<ons-input id="Man_capacity_remaining" pattern="\d*" modifier="underbar" placeholder="Man_capacity" float class="need_translate_span" translate="Man_capacity"></ons-input>
				</div>
				<div class="input" style="position:relative;margin-bottom: 20px;">
					<div class="Select_hover woman_image" style="width: 51px;">
						<img src="images/woman_b.svg" style="margin-top:-7px;margin-left: -3px;" >
					</div>
					<ons-input id="Woman_capacity_remaining" pattern="\d*" modifier="underbar" placeholder="Woman_capacity" float class="need_translate_span" translate="Woman_capacity"></ons-input>
				</div>
				<p><ons-button onclick="update_remaining_capacity();" class="need_translate" translate="ok">OK</ons-button></p>

			</div>
		</ons-dialog>
	</template>
	<div id="mypreload" style="display1:none;">
		<div style="z-index: 1000; border: medium none; margin: 0px; padding: 0px; width: 100%; height: 100%; top: 0px; left: 0px; background-color: #1e92c4; opacity: 1; cursor: default; position: fixed;overflow:visible;" class="blockUI blockOverlay"></div>
		<div style="z-index: 1011; position: fixed; padding: 0px; margin: 0px; width: 100%; top: 28%; left: 0%; text-align: center;border: medium none;overflow:visible;" class="blockUI blockMsg blockPage"><img src="images/preloader.gif"></div>
		<div style="z-index: 1012; position: fixed; padding: 0px; margin: 0px; width: 100%; top: 50%; left: 0%; text-align: center;border: medium none;overflow:visible;height:500px;" class="blockUI blockMsg blockPage"><img src="images/loading.png" width="70%"></div>
	</div>
	<ons-toast id="toast_update" animation="ascend">
	  Map points is updated!
	  <!-- <button onclick="toast_update.hide()">ok</button> -->
	</ons-toast>

</body>
</html>
  